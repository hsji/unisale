/*! For license information please see readermod.bundle.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("readermod",[],t):"object"==typeof exports?exports.readermod=t():e.readermod=t()}(this,(()=>(()=>{var __webpack_modules__={2106:function(e){e.exports=function(){"use strict";var e=function(){return(e=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function t(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var a=Array(e),r=0;for(t=0;t<n;t++)for(var i=arguments[t],o=0,l=i.length;o<l;o++,r++)a[r]=i[o];return a}var n=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],a={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:"object"==typeof window&&-1===window.navigator.userAgent.indexOf("MSIE"),ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(e){return"undefined"!=typeof console&&console.warn(e)},getWeek:function(e){var t=new Date(e.getTime());t.setHours(0,0,0,0),t.setDate(t.getDate()+3-(t.getDay()+6)%7);var n=new Date(t.getFullYear(),0,4);return 1+Math.round(((t.getTime()-n.getTime())/864e5-3+(n.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},r={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(e){var t=e%100;if(t>3&&t<21)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},i=function(e,t){return void 0===t&&(t=2),("000"+e).slice(-1*t)},o=function(e){return!0===e?1:0};function l(e,t){var n;return function(){var a=this;clearTimeout(n),n=setTimeout((function(){return e.apply(a,arguments)}),t)}}var s=function(e){return e instanceof Array?e:[e]};function c(e,t,n){if(!0===n)return e.classList.add(t);e.classList.remove(t)}function d(e,t,n){var a=window.document.createElement(e);return t=t||"",n=n||"",a.className=t,void 0!==n&&(a.textContent=n),a}function u(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function p(e,t){return t(e)?e:e.parentNode?p(e.parentNode,t):void 0}function m(e,t){var n=d("div","numInputWrapper"),a=d("input","numInput "+e),r=d("span","arrowUp"),i=d("span","arrowDown");if(-1===navigator.userAgent.indexOf("MSIE 9.0")?a.type="number":(a.type="text",a.pattern="\\d*"),void 0!==t)for(var o in t)a.setAttribute(o,t[o]);return n.appendChild(a),n.appendChild(r),n.appendChild(i),n}function f(e){try{return"function"==typeof e.composedPath?e.composedPath()[0]:e.target}catch(t){return e.target}}var g=function(){},h=function(e,t,n){return n.months[t?"shorthand":"longhand"][e]},_={D:g,F:function(e,t,n){e.setMonth(n.months.longhand.indexOf(t))},G:function(e,t){e.setHours(parseFloat(t))},H:function(e,t){e.setHours(parseFloat(t))},J:function(e,t){e.setDate(parseFloat(t))},K:function(e,t,n){e.setHours(e.getHours()%12+12*o(new RegExp(n.amPM[1],"i").test(t)))},M:function(e,t,n){e.setMonth(n.months.shorthand.indexOf(t))},S:function(e,t){e.setSeconds(parseFloat(t))},U:function(e,t){return new Date(1e3*parseFloat(t))},W:function(e,t,n){var a=parseInt(t),r=new Date(e.getFullYear(),0,2+7*(a-1),0,0,0,0);return r.setDate(r.getDate()-r.getDay()+n.firstDayOfWeek),r},Y:function(e,t){e.setFullYear(parseFloat(t))},Z:function(e,t){return new Date(t)},d:function(e,t){e.setDate(parseFloat(t))},h:function(e,t){e.setHours(parseFloat(t))},i:function(e,t){e.setMinutes(parseFloat(t))},j:function(e,t){e.setDate(parseFloat(t))},l:g,m:function(e,t){e.setMonth(parseFloat(t)-1)},n:function(e,t){e.setMonth(parseFloat(t)-1)},s:function(e,t){e.setSeconds(parseFloat(t))},u:function(e,t){return new Date(parseFloat(t))},w:g,y:function(e,t){e.setFullYear(2e3+parseFloat(t))}},v={D:"(\\w+)",F:"(\\w+)",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"(\\w+)",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"(\\w+)",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},E={Z:function(e){return e.toISOString()},D:function(e,t,n){return t.weekdays.shorthand[E.w(e,t,n)]},F:function(e,t,n){return h(E.n(e,t,n)-1,!1,t)},G:function(e,t,n){return i(E.h(e,t,n))},H:function(e){return i(e.getHours())},J:function(e,t){return void 0!==t.ordinal?e.getDate()+t.ordinal(e.getDate()):e.getDate()},K:function(e,t){return t.amPM[o(e.getHours()>11)]},M:function(e,t){return h(e.getMonth(),!0,t)},S:function(e){return i(e.getSeconds())},U:function(e){return e.getTime()/1e3},W:function(e,t,n){return n.getWeek(e)},Y:function(e){return i(e.getFullYear(),4)},d:function(e){return i(e.getDate())},h:function(e){return e.getHours()%12?e.getHours()%12:12},i:function(e){return i(e.getMinutes())},j:function(e){return e.getDate()},l:function(e,t){return t.weekdays.longhand[e.getDay()]},m:function(e){return i(e.getMonth()+1)},n:function(e){return e.getMonth()+1},s:function(e){return e.getSeconds()},u:function(e){return e.getTime()},w:function(e){return e.getDay()},y:function(e){return String(e.getFullYear()).substring(2)}},y=function(e){var t=e.config,n=void 0===t?a:t,i=e.l10n,o=void 0===i?r:i,l=e.isMobile,s=void 0!==l&&l;return function(e,t,a){var r=a||o;return void 0===n.formatDate||s?t.split("").map((function(t,a,i){return E[t]&&"\\"!==i[a-1]?E[t](e,r,n):"\\"!==t?t:""})).join(""):n.formatDate(e,t,r)}},b=function(e){var t=e.config,n=void 0===t?a:t,i=e.l10n,o=void 0===i?r:i;return function(e,t,r,i){if(0===e||e){var l,s=i||o,c=e;if(e instanceof Date)l=new Date(e.getTime());else if("string"!=typeof e&&void 0!==e.toFixed)l=new Date(e);else if("string"==typeof e){var d=t||(n||a).dateFormat,u=String(e).trim();if("today"===u)l=new Date,r=!0;else if(/Z$/.test(u)||/GMT$/.test(u))l=new Date(e);else if(n&&n.parseDate)l=n.parseDate(e,d);else{l=n&&n.noCalendar?new Date((new Date).setHours(0,0,0,0)):new Date((new Date).getFullYear(),0,1,0,0,0,0);for(var p=void 0,m=[],f=0,g=0,h="";f<d.length;f++){var E=d[f],y="\\"===E,b="\\"===d[f-1]||y;if(v[E]&&!b){h+=v[E];var C=new RegExp(h).exec(e);C&&(p=!0)&&m["Y"!==E?"push":"unshift"]({fn:_[E],val:C[++g]})}else y||(h+=".");m.forEach((function(e){var t=e.fn,n=e.val;return l=t(l,n,s)||l}))}l=p?l:void 0}}if(l instanceof Date&&!isNaN(l.getTime()))return!0===r&&l.setHours(0,0,0,0),l;n.errorHandler(new Error("Invalid date provided: "+c))}}};function C(e,t,n){return void 0===n&&(n=!0),!1!==n?new Date(e.getTime()).setHours(0,0,0,0)-new Date(t.getTime()).setHours(0,0,0,0):e.getTime()-t.getTime()}var S=864e5;function T(e){var t=e.defaultHour,n=e.defaultMinute,a=e.defaultSeconds;if(void 0!==e.minDate){var r=e.minDate.getHours(),i=e.minDate.getMinutes(),o=e.minDate.getSeconds();t<r&&(t=r),t===r&&n<i&&(n=i),t===r&&n===i&&a<o&&(a=e.minDate.getSeconds())}if(void 0!==e.maxDate){var l=e.maxDate.getHours(),s=e.maxDate.getMinutes();(t=Math.min(t,l))===l&&(n=Math.min(s,n)),t===l&&n===s&&(a=e.maxDate.getSeconds())}return{hours:t,minutes:n,seconds:a}}function A(g,_){var E={config:e(e({},a),w.defaultConfig),l10n:r};function A(e){return e.bind(E)}function D(){var e=E.config;!1===e.weekNumbers&&1===e.showMonths||!0!==e.noCalendar&&window.requestAnimationFrame((function(){if(void 0!==E.calendarContainer&&(E.calendarContainer.style.visibility="hidden",E.calendarContainer.style.display="block"),void 0!==E.daysContainer){var t=(E.days.offsetWidth+1)*e.showMonths;E.daysContainer.style.width=t+"px",E.calendarContainer.style.width=t+(void 0!==E.weekWrapper?E.weekWrapper.offsetWidth:0)+"px",E.calendarContainer.style.removeProperty("visibility"),E.calendarContainer.style.removeProperty("display")}}))}function L(e){if(0===E.selectedDates.length){var t=void 0===E.config.minDate||C(new Date,E.config.minDate)>=0?new Date:new Date(E.config.minDate.getTime()),n=T(E.config);t.setHours(n.hours,n.minutes,n.seconds,t.getMilliseconds()),E.selectedDates=[t],E.latestSelectedDateObj=t}void 0!==e&&"blur"!==e.type&&function(e){e.preventDefault();var t="keydown"===e.type,n=f(e),a=n;void 0!==E.amPM&&n===E.amPM&&(E.amPM.textContent=E.l10n.amPM[o(E.amPM.textContent===E.l10n.amPM[0])]);var r=parseFloat(a.getAttribute("min")),l=parseFloat(a.getAttribute("max")),s=parseFloat(a.getAttribute("step")),c=parseInt(a.value,10),d=c+s*(e.delta||(t?38===e.which?1:-1:0));if(void 0!==a.value&&2===a.value.length){var u=a===E.hourElement,p=a===E.minuteElement;d<r?(d=l+d+o(!u)+(o(u)&&o(!E.amPM)),p&&B(void 0,-1,E.hourElement)):d>l&&(d=a===E.hourElement?d-l-o(!E.amPM):r,p&&B(void 0,1,E.hourElement)),E.amPM&&u&&(1===s?d+c===23:Math.abs(d-c)>s)&&(E.amPM.textContent=E.l10n.amPM[o(E.amPM.textContent===E.l10n.amPM[0])]),a.value=i(d)}}(e);var a=E._input.value;M(),ye(),E._input.value!==a&&E._debouncedChange()}function M(){if(void 0!==E.hourElement&&void 0!==E.minuteElement){var e,t,n=(parseInt(E.hourElement.value.slice(-2),10)||0)%24,a=(parseInt(E.minuteElement.value,10)||0)%60,r=void 0!==E.secondElement?(parseInt(E.secondElement.value,10)||0)%60:0;void 0!==E.amPM&&(e=n,t=E.amPM.textContent,n=e%12+12*o(t===E.l10n.amPM[1]));var i=void 0!==E.config.minTime||E.config.minDate&&E.minDateHasTime&&E.latestSelectedDateObj&&0===C(E.latestSelectedDateObj,E.config.minDate,!0);if(void 0!==E.config.maxTime||E.config.maxDate&&E.maxDateHasTime&&E.latestSelectedDateObj&&0===C(E.latestSelectedDateObj,E.config.maxDate,!0)){var l=void 0!==E.config.maxTime?E.config.maxTime:E.config.maxDate;(n=Math.min(n,l.getHours()))===l.getHours()&&(a=Math.min(a,l.getMinutes())),a===l.getMinutes()&&(r=Math.min(r,l.getSeconds()))}if(i){var s=void 0!==E.config.minTime?E.config.minTime:E.config.minDate;(n=Math.max(n,s.getHours()))===s.getHours()&&a<s.getMinutes()&&(a=s.getMinutes()),a===s.getMinutes()&&(r=Math.max(r,s.getSeconds()))}O(n,a,r)}}function R(e){var t=e||E.latestSelectedDateObj;t&&O(t.getHours(),t.getMinutes(),t.getSeconds())}function O(e,t,n){void 0!==E.latestSelectedDateObj&&E.latestSelectedDateObj.setHours(e%24,t,n||0,0),E.hourElement&&E.minuteElement&&!E.isMobile&&(E.hourElement.value=i(E.config.time_24hr?e:(12+e)%12+12*o(e%12==0)),E.minuteElement.value=i(t),void 0!==E.amPM&&(E.amPM.textContent=E.l10n.amPM[o(e>=12)]),void 0!==E.secondElement&&(E.secondElement.value=i(n)))}function I(e){var t=f(e),n=parseInt(t.value)+(e.delta||0);(n/1e3>1||"Enter"===e.key&&!/[^\d]/.test(n.toString()))&&Z(n)}function x(e,t,n,a){return t instanceof Array?t.forEach((function(t){return x(e,t,n,a)})):e instanceof Array?e.forEach((function(e){return x(e,t,n,a)})):(e.addEventListener(t,n,a),void E._handlers.push({remove:function(){return e.removeEventListener(t,n)}}))}function N(){ge("onChange")}function P(e,t){var n=void 0!==e?E.parseDate(e):E.latestSelectedDateObj||(E.config.minDate&&E.config.minDate>E.now?E.config.minDate:E.config.maxDate&&E.config.maxDate<E.now?E.config.maxDate:E.now),a=E.currentYear,r=E.currentMonth;try{void 0!==n&&(E.currentYear=n.getFullYear(),E.currentMonth=n.getMonth())}catch(e){e.message="Invalid date supplied: "+n,E.config.errorHandler(e)}t&&E.currentYear!==a&&(ge("onYearChange"),Y()),!t||E.currentYear===a&&E.currentMonth===r||ge("onMonthChange"),E.redraw()}function k(e){var t=f(e);~t.className.indexOf("arrow")&&B(e,t.classList.contains("arrowUp")?1:-1)}function B(e,t,n){var a=e&&f(e),r=n||a&&a.parentNode&&a.parentNode.firstChild,i=he("increment");i.delta=t,r&&r.dispatchEvent(i)}function F(e,t,n,a){var r=Q(t,!0),i=d("span","flatpickr-day "+e,t.getDate().toString());return i.dateObj=t,i.$i=a,i.setAttribute("aria-label",E.formatDate(t,E.config.ariaDateFormat)),-1===e.indexOf("hidden")&&0===C(t,E.now)&&(E.todayDateElem=i,i.classList.add("today"),i.setAttribute("aria-current","date")),r?(i.tabIndex=-1,_e(t)&&(i.classList.add("selected"),E.selectedDateElem=i,"range"===E.config.mode&&(c(i,"startRange",E.selectedDates[0]&&0===C(t,E.selectedDates[0],!0)),c(i,"endRange",E.selectedDates[1]&&0===C(t,E.selectedDates[1],!0)),"nextMonthDay"===e&&i.classList.add("inRange")))):i.classList.add("flatpickr-disabled"),"range"===E.config.mode&&function(e){return!("range"!==E.config.mode||E.selectedDates.length<2)&&C(e,E.selectedDates[0])>=0&&C(e,E.selectedDates[1])<=0}(t)&&!_e(t)&&i.classList.add("inRange"),E.weekNumbers&&1===E.config.showMonths&&"prevMonthDay"!==e&&n%7==1&&E.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+E.config.getWeek(t)+"</span>"),ge("onDayCreate",i),i}function j(e){e.focus(),"range"===E.config.mode&&ae(e)}function W(e){for(var t=e>0?0:E.config.showMonths-1,n=e>0?E.config.showMonths:-1,a=t;a!=n;a+=e)for(var r=E.daysContainer.children[a],i=e>0?0:r.children.length-1,o=e>0?r.children.length:-1,l=i;l!=o;l+=e){var s=r.children[l];if(-1===s.className.indexOf("hidden")&&Q(s.dateObj))return s}}function q(e,t){var n=ee(document.activeElement||document.body),a=void 0!==e?e:n?document.activeElement:void 0!==E.selectedDateElem&&ee(E.selectedDateElem)?E.selectedDateElem:void 0!==E.todayDateElem&&ee(E.todayDateElem)?E.todayDateElem:W(t>0?1:-1);void 0===a?E._input.focus():n?function(e,t){for(var n=-1===e.className.indexOf("Month")?e.dateObj.getMonth():E.currentMonth,a=t>0?E.config.showMonths:-1,r=t>0?1:-1,i=n-E.currentMonth;i!=a;i+=r)for(var o=E.daysContainer.children[i],l=n-E.currentMonth===i?e.$i+t:t<0?o.children.length-1:0,s=o.children.length,c=l;c>=0&&c<s&&c!=(t>0?s:-1);c+=r){var d=o.children[c];if(-1===d.className.indexOf("hidden")&&Q(d.dateObj)&&Math.abs(e.$i-c)>=Math.abs(t))return j(d)}E.changeMonth(r),q(W(r),0)}(a,t):j(a)}function H(e,t){for(var n=(new Date(e,t,1).getDay()-E.l10n.firstDayOfWeek+7)%7,a=E.utils.getDaysInMonth((t-1+12)%12,e),r=E.utils.getDaysInMonth(t,e),i=window.document.createDocumentFragment(),o=E.config.showMonths>1,l=o?"prevMonthDay hidden":"prevMonthDay",s=o?"nextMonthDay hidden":"nextMonthDay",c=a+1-n,u=0;c<=a;c++,u++)i.appendChild(F(l,new Date(e,t-1,c),c,u));for(c=1;c<=r;c++,u++)i.appendChild(F("",new Date(e,t,c),c,u));for(var p=r+1;p<=42-n&&(1===E.config.showMonths||u%7!=0);p++,u++)i.appendChild(F(s,new Date(e,t+1,p%r),p,u));var m=d("div","dayContainer");return m.appendChild(i),m}function U(){if(void 0!==E.daysContainer){u(E.daysContainer),E.weekNumbers&&u(E.weekNumbers);for(var e=document.createDocumentFragment(),t=0;t<E.config.showMonths;t++){var n=new Date(E.currentYear,E.currentMonth,1);n.setMonth(E.currentMonth+t),e.appendChild(H(n.getFullYear(),n.getMonth()))}E.daysContainer.appendChild(e),E.days=E.daysContainer.firstChild,"range"===E.config.mode&&1===E.selectedDates.length&&ae()}}function Y(){if(!(E.config.showMonths>1||"dropdown"!==E.config.monthSelectorType)){var e=function(e){return!(void 0!==E.config.minDate&&E.currentYear===E.config.minDate.getFullYear()&&e<E.config.minDate.getMonth()||void 0!==E.config.maxDate&&E.currentYear===E.config.maxDate.getFullYear()&&e>E.config.maxDate.getMonth())};E.monthsDropdownContainer.tabIndex=-1,E.monthsDropdownContainer.innerHTML="";for(var t=0;t<12;t++)if(e(t)){var n=d("option","flatpickr-monthDropdown-month");n.value=new Date(E.currentYear,t).getMonth().toString(),n.textContent=h(t,E.config.shorthandCurrentMonth,E.l10n),n.tabIndex=-1,E.currentMonth===t&&(n.selected=!0),E.monthsDropdownContainer.appendChild(n)}}}function V(){var e,t=d("div","flatpickr-month"),n=window.document.createDocumentFragment();E.config.showMonths>1||"static"===E.config.monthSelectorType?e=d("span","cur-month"):(E.monthsDropdownContainer=d("select","flatpickr-monthDropdown-months"),E.monthsDropdownContainer.setAttribute("aria-label",E.l10n.monthAriaLabel),x(E.monthsDropdownContainer,"change",(function(e){var t=f(e),n=parseInt(t.value,10);E.changeMonth(n-E.currentMonth),ge("onMonthChange")})),Y(),e=E.monthsDropdownContainer);var a=m("cur-year",{tabindex:"-1"}),r=a.getElementsByTagName("input")[0];r.setAttribute("aria-label",E.l10n.yearAriaLabel),E.config.minDate&&r.setAttribute("min",E.config.minDate.getFullYear().toString()),E.config.maxDate&&(r.setAttribute("max",E.config.maxDate.getFullYear().toString()),r.disabled=!!E.config.minDate&&E.config.minDate.getFullYear()===E.config.maxDate.getFullYear());var i=d("div","flatpickr-current-month");return i.appendChild(e),i.appendChild(a),n.appendChild(i),t.appendChild(n),{container:t,yearElement:r,monthElement:e}}function G(){u(E.monthNav),E.monthNav.appendChild(E.prevMonthNav),E.config.showMonths&&(E.yearElements=[],E.monthElements=[]);for(var e=E.config.showMonths;e--;){var t=V();E.yearElements.push(t.yearElement),E.monthElements.push(t.monthElement),E.monthNav.appendChild(t.container)}E.monthNav.appendChild(E.nextMonthNav)}function K(){E.weekdayContainer?u(E.weekdayContainer):E.weekdayContainer=d("div","flatpickr-weekdays");for(var e=E.config.showMonths;e--;){var t=d("div","flatpickr-weekdaycontainer");E.weekdayContainer.appendChild(t)}return z(),E.weekdayContainer}function z(){if(E.weekdayContainer){var e=E.l10n.firstDayOfWeek,n=t(E.l10n.weekdays.shorthand);e>0&&e<n.length&&(n=t(n.splice(e,n.length),n.splice(0,e)));for(var a=E.config.showMonths;a--;)E.weekdayContainer.children[a].innerHTML="\n      <span class='flatpickr-weekday'>\n        "+n.join("</span><span class='flatpickr-weekday'>")+"\n      </span>\n      "}}function $(e,t){void 0===t&&(t=!0);var n=t?e:e-E.currentMonth;n<0&&!0===E._hidePrevMonthArrow||n>0&&!0===E._hideNextMonthArrow||(E.currentMonth+=n,(E.currentMonth<0||E.currentMonth>11)&&(E.currentYear+=E.currentMonth>11?1:-1,E.currentMonth=(E.currentMonth+12)%12,ge("onYearChange"),Y()),U(),ge("onMonthChange"),ve())}function X(e){return!(!E.config.appendTo||!E.config.appendTo.contains(e))||E.calendarContainer.contains(e)}function J(e){if(E.isOpen&&!E.config.inline){var t=f(e),n=X(t),a=t===E.input||t===E.altInput||E.element.contains(t)||e.path&&e.path.indexOf&&(~e.path.indexOf(E.input)||~e.path.indexOf(E.altInput)),r="blur"===e.type?a&&e.relatedTarget&&!X(e.relatedTarget):!a&&!n&&!X(e.relatedTarget),i=!E.config.ignoredFocusElements.some((function(e){return e.contains(t)}));r&&i&&(void 0!==E.timeContainer&&void 0!==E.minuteElement&&void 0!==E.hourElement&&""!==E.input.value&&void 0!==E.input.value&&L(),E.close(),E.config&&"range"===E.config.mode&&1===E.selectedDates.length&&(E.clear(!1),E.redraw()))}}function Z(e){if(!(!e||E.config.minDate&&e<E.config.minDate.getFullYear()||E.config.maxDate&&e>E.config.maxDate.getFullYear())){var t=e,n=E.currentYear!==t;E.currentYear=t||E.currentYear,E.config.maxDate&&E.currentYear===E.config.maxDate.getFullYear()?E.currentMonth=Math.min(E.config.maxDate.getMonth(),E.currentMonth):E.config.minDate&&E.currentYear===E.config.minDate.getFullYear()&&(E.currentMonth=Math.max(E.config.minDate.getMonth(),E.currentMonth)),n&&(E.redraw(),ge("onYearChange"),Y())}}function Q(e,t){var n;void 0===t&&(t=!0);var a=E.parseDate(e,void 0,t);if(E.config.minDate&&a&&C(a,E.config.minDate,void 0!==t?t:!E.minDateHasTime)<0||E.config.maxDate&&a&&C(a,E.config.maxDate,void 0!==t?t:!E.maxDateHasTime)>0)return!1;if(!E.config.enable&&0===E.config.disable.length)return!0;if(void 0===a)return!1;for(var r=!!E.config.enable,i=null!==(n=E.config.enable)&&void 0!==n?n:E.config.disable,o=0,l=void 0;o<i.length;o++){if("function"==typeof(l=i[o])&&l(a))return r;if(l instanceof Date&&void 0!==a&&l.getTime()===a.getTime())return r;if("string"==typeof l){var s=E.parseDate(l,void 0,!0);return s&&s.getTime()===a.getTime()?r:!r}if("object"==typeof l&&void 0!==a&&l.from&&l.to&&a.getTime()>=l.from.getTime()&&a.getTime()<=l.to.getTime())return r}return!r}function ee(e){return void 0!==E.daysContainer&&-1===e.className.indexOf("hidden")&&-1===e.className.indexOf("flatpickr-disabled")&&E.daysContainer.contains(e)}function te(e){e.target!==E._input||!(E.selectedDates.length>0||E._input.value.length>0)||e.relatedTarget&&X(e.relatedTarget)||E.setDate(E._input.value,!0,e.target===E.altInput?E.config.altFormat:E.config.dateFormat)}function ne(e){var t=f(e),n=E.config.wrap?g.contains(t):t===E._input,a=E.config.allowInput,r=E.isOpen&&(!a||!n),i=E.config.inline&&n&&!a;if(13===e.keyCode&&n){if(a)return E.setDate(E._input.value,!0,t===E.altInput?E.config.altFormat:E.config.dateFormat),t.blur();E.open()}else if(X(t)||r||i){var o=!!E.timeContainer&&E.timeContainer.contains(t);switch(e.keyCode){case 13:o?(e.preventDefault(),L(),de()):ue(e);break;case 27:e.preventDefault(),de();break;case 8:case 46:n&&!E.config.allowInput&&(e.preventDefault(),E.clear());break;case 37:case 39:if(o||n)E.hourElement&&E.hourElement.focus();else if(e.preventDefault(),void 0!==E.daysContainer&&(!1===a||document.activeElement&&ee(document.activeElement))){var l=39===e.keyCode?1:-1;e.ctrlKey?(e.stopPropagation(),$(l),q(W(1),0)):q(void 0,l)}break;case 38:case 40:e.preventDefault();var s=40===e.keyCode?1:-1;E.daysContainer&&void 0!==t.$i||t===E.input||t===E.altInput?e.ctrlKey?(e.stopPropagation(),Z(E.currentYear-s),q(W(1),0)):o||q(void 0,7*s):t===E.currentYearElement?Z(E.currentYear-s):E.config.enableTime&&(!o&&E.hourElement&&E.hourElement.focus(),L(e),E._debouncedChange());break;case 9:if(o){var c=[E.hourElement,E.minuteElement,E.secondElement,E.amPM].concat(E.pluginElements).filter((function(e){return e})),d=c.indexOf(t);if(-1!==d){var u=c[d+(e.shiftKey?-1:1)];e.preventDefault(),(u||E._input).focus()}}else!E.config.noCalendar&&E.daysContainer&&E.daysContainer.contains(t)&&e.shiftKey&&(e.preventDefault(),E._input.focus())}}if(void 0!==E.amPM&&t===E.amPM)switch(e.key){case E.l10n.amPM[0].charAt(0):case E.l10n.amPM[0].charAt(0).toLowerCase():E.amPM.textContent=E.l10n.amPM[0],M(),ye();break;case E.l10n.amPM[1].charAt(0):case E.l10n.amPM[1].charAt(0).toLowerCase():E.amPM.textContent=E.l10n.amPM[1],M(),ye()}(n||X(t))&&ge("onKeyDown",e)}function ae(e){if(1===E.selectedDates.length&&(!e||e.classList.contains("flatpickr-day")&&!e.classList.contains("flatpickr-disabled"))){for(var t=e?e.dateObj.getTime():E.days.firstElementChild.dateObj.getTime(),n=E.parseDate(E.selectedDates[0],void 0,!0).getTime(),a=Math.min(t,E.selectedDates[0].getTime()),r=Math.max(t,E.selectedDates[0].getTime()),i=!1,o=0,l=0,s=a;s<r;s+=S)Q(new Date(s),!0)||(i=i||s>a&&s<r,s<n&&(!o||s>o)?o=s:s>n&&(!l||s<l)&&(l=s));for(var c=0;c<E.config.showMonths;c++)for(var d=E.daysContainer.children[c],u=function(a,r){var s,c,u,p=d.children[a],m=p.dateObj.getTime(),f=o>0&&m<o||l>0&&m>l;return f?(p.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach((function(e){p.classList.remove(e)})),"continue"):i&&!f?"continue":(["startRange","inRange","endRange","notAllowed"].forEach((function(e){p.classList.remove(e)})),void(void 0!==e&&(e.classList.add(t<=E.selectedDates[0].getTime()?"startRange":"endRange"),n<t&&m===n?p.classList.add("startRange"):n>t&&m===n&&p.classList.add("endRange"),m>=o&&(0===l||m<=l)&&(c=n,u=t,(s=m)>Math.min(c,u)&&s<Math.max(c,u))&&p.classList.add("inRange"))))},p=0,m=d.children.length;p<m;p++)u(p)}}function re(){!E.isOpen||E.config.static||E.config.inline||se()}function ie(e){return function(t){var n=E.config["_"+e+"Date"]=E.parseDate(t,E.config.dateFormat),a=E.config["_"+("min"===e?"max":"min")+"Date"];void 0!==n&&(E["min"===e?"minDateHasTime":"maxDateHasTime"]=n.getHours()>0||n.getMinutes()>0||n.getSeconds()>0),E.selectedDates&&(E.selectedDates=E.selectedDates.filter((function(e){return Q(e)})),E.selectedDates.length||"min"!==e||R(n),ye()),E.daysContainer&&(ce(),void 0!==n?E.currentYearElement[e]=n.getFullYear().toString():E.currentYearElement.removeAttribute(e),E.currentYearElement.disabled=!!a&&void 0!==n&&a.getFullYear()===n.getFullYear())}}function oe(){return E.config.wrap?g.querySelector("[data-input]"):g}function le(){"object"!=typeof E.config.locale&&void 0===w.l10ns[E.config.locale]&&E.config.errorHandler(new Error("flatpickr: invalid locale "+E.config.locale)),E.l10n=e(e({},w.l10ns.default),"object"==typeof E.config.locale?E.config.locale:"default"!==E.config.locale?w.l10ns[E.config.locale]:void 0),v.K="("+E.l10n.amPM[0]+"|"+E.l10n.amPM[1]+"|"+E.l10n.amPM[0].toLowerCase()+"|"+E.l10n.amPM[1].toLowerCase()+")",void 0===e(e({},_),JSON.parse(JSON.stringify(g.dataset||{}))).time_24hr&&void 0===w.defaultConfig.time_24hr&&(E.config.time_24hr=E.l10n.time_24hr),E.formatDate=y(E),E.parseDate=b({config:E.config,l10n:E.l10n})}function se(e){if("function"!=typeof E.config.position){if(void 0!==E.calendarContainer){ge("onPreCalendarPosition");var t=e||E._positionElement,n=Array.prototype.reduce.call(E.calendarContainer.children,(function(e,t){return e+t.offsetHeight}),0),a=E.calendarContainer.offsetWidth,r=E.config.position.split(" "),i=r[0],o=r.length>1?r[1]:null,l=t.getBoundingClientRect(),s=window.innerHeight-l.bottom,d="above"===i||"below"!==i&&s<n&&l.top>n,u=window.pageYOffset+l.top+(d?-n-2:t.offsetHeight+2);if(c(E.calendarContainer,"arrowTop",!d),c(E.calendarContainer,"arrowBottom",d),!E.config.inline){var p=window.pageXOffset+l.left,m=!1,f=!1;"center"===o?(p-=(a-l.width)/2,m=!0):"right"===o&&(p-=a-l.width,f=!0),c(E.calendarContainer,"arrowLeft",!m&&!f),c(E.calendarContainer,"arrowCenter",m),c(E.calendarContainer,"arrowRight",f);var g=window.document.body.offsetWidth-(window.pageXOffset+l.right),h=p+a>window.document.body.offsetWidth,_=g+a>window.document.body.offsetWidth;if(c(E.calendarContainer,"rightMost",h),!E.config.static)if(E.calendarContainer.style.top=u+"px",h)if(_){var v=function(){for(var e=null,t=0;t<document.styleSheets.length;t++){var n=document.styleSheets[t];try{n.cssRules}catch(e){continue}e=n;break}return null!=e?e:(a=document.createElement("style"),document.head.appendChild(a),a.sheet);var a}();if(void 0===v)return;var y=window.document.body.offsetWidth,b=Math.max(0,y/2-a/2),C=v.cssRules.length,S="{left:"+l.left+"px;right:auto;}";c(E.calendarContainer,"rightMost",!1),c(E.calendarContainer,"centerMost",!0),v.insertRule(".flatpickr-calendar.centerMost:before,.flatpickr-calendar.centerMost:after"+S,C),E.calendarContainer.style.left=b+"px",E.calendarContainer.style.right="auto"}else E.calendarContainer.style.left="auto",E.calendarContainer.style.right=g+"px";else E.calendarContainer.style.left=p+"px",E.calendarContainer.style.right="auto"}}}else E.config.position(E,e)}function ce(){E.config.noCalendar||E.isMobile||(Y(),ve(),U())}function de(){E._input.focus(),-1!==window.navigator.userAgent.indexOf("MSIE")||void 0!==navigator.msMaxTouchPoints?setTimeout(E.close,0):E.close()}function ue(e){e.preventDefault(),e.stopPropagation();var t=p(f(e),(function(e){return e.classList&&e.classList.contains("flatpickr-day")&&!e.classList.contains("flatpickr-disabled")&&!e.classList.contains("notAllowed")}));if(void 0!==t){var n=t,a=E.latestSelectedDateObj=new Date(n.dateObj.getTime()),r=(a.getMonth()<E.currentMonth||a.getMonth()>E.currentMonth+E.config.showMonths-1)&&"range"!==E.config.mode;if(E.selectedDateElem=n,"single"===E.config.mode)E.selectedDates=[a];else if("multiple"===E.config.mode){var i=_e(a);i?E.selectedDates.splice(parseInt(i),1):E.selectedDates.push(a)}else"range"===E.config.mode&&(2===E.selectedDates.length&&E.clear(!1,!1),E.latestSelectedDateObj=a,E.selectedDates.push(a),0!==C(a,E.selectedDates[0],!0)&&E.selectedDates.sort((function(e,t){return e.getTime()-t.getTime()})));if(M(),r){var o=E.currentYear!==a.getFullYear();E.currentYear=a.getFullYear(),E.currentMonth=a.getMonth(),o&&(ge("onYearChange"),Y()),ge("onMonthChange")}if(ve(),U(),ye(),r||"range"===E.config.mode||1!==E.config.showMonths?void 0!==E.selectedDateElem&&void 0===E.hourElement&&E.selectedDateElem&&E.selectedDateElem.focus():j(n),void 0!==E.hourElement&&void 0!==E.hourElement&&E.hourElement.focus(),E.config.closeOnSelect){var l="single"===E.config.mode&&!E.config.enableTime,s="range"===E.config.mode&&2===E.selectedDates.length&&!E.config.enableTime;(l||s)&&de()}N()}}E.parseDate=b({config:E.config,l10n:E.l10n}),E._handlers=[],E.pluginElements=[],E.loadedPlugins=[],E._bind=x,E._setHoursFromDate=R,E._positionCalendar=se,E.changeMonth=$,E.changeYear=Z,E.clear=function(e,t){if(void 0===e&&(e=!0),void 0===t&&(t=!0),E.input.value="",void 0!==E.altInput&&(E.altInput.value=""),void 0!==E.mobileInput&&(E.mobileInput.value=""),E.selectedDates=[],E.latestSelectedDateObj=void 0,!0===t&&(E.currentYear=E._initialDate.getFullYear(),E.currentMonth=E._initialDate.getMonth()),!0===E.config.enableTime){var n=T(E.config);O(n.hours,n.minutes,n.seconds)}E.redraw(),e&&ge("onChange")},E.close=function(){E.isOpen=!1,E.isMobile||(void 0!==E.calendarContainer&&E.calendarContainer.classList.remove("open"),void 0!==E._input&&E._input.classList.remove("active")),ge("onClose")},E._createElement=d,E.destroy=function(){void 0!==E.config&&ge("onDestroy");for(var e=E._handlers.length;e--;)E._handlers[e].remove();if(E._handlers=[],E.mobileInput)E.mobileInput.parentNode&&E.mobileInput.parentNode.removeChild(E.mobileInput),E.mobileInput=void 0;else if(E.calendarContainer&&E.calendarContainer.parentNode)if(E.config.static&&E.calendarContainer.parentNode){var t=E.calendarContainer.parentNode;if(t.lastChild&&t.removeChild(t.lastChild),t.parentNode){for(;t.firstChild;)t.parentNode.insertBefore(t.firstChild,t);t.parentNode.removeChild(t)}}else E.calendarContainer.parentNode.removeChild(E.calendarContainer);E.altInput&&(E.input.type="text",E.altInput.parentNode&&E.altInput.parentNode.removeChild(E.altInput),delete E.altInput),E.input&&(E.input.type=E.input._type,E.input.classList.remove("flatpickr-input"),E.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach((function(e){try{delete E[e]}catch(e){}}))},E.isEnabled=Q,E.jumpToDate=P,E.open=function(e,t){if(void 0===t&&(t=E._positionElement),!0===E.isMobile){if(e){e.preventDefault();var n=f(e);n&&n.blur()}return void 0!==E.mobileInput&&(E.mobileInput.focus(),E.mobileInput.click()),void ge("onOpen")}if(!E._input.disabled&&!E.config.inline){var a=E.isOpen;E.isOpen=!0,a||(E.calendarContainer.classList.add("open"),E._input.classList.add("active"),ge("onOpen"),se(t)),!0===E.config.enableTime&&!0===E.config.noCalendar&&(!1!==E.config.allowInput||void 0!==e&&E.timeContainer.contains(e.relatedTarget)||setTimeout((function(){return E.hourElement.select()}),50))}},E.redraw=ce,E.set=function(e,t){if(null!==e&&"object"==typeof e)for(var a in Object.assign(E.config,e),e)void 0!==pe[a]&&pe[a].forEach((function(e){return e()}));else E.config[e]=t,void 0!==pe[e]?pe[e].forEach((function(e){return e()})):n.indexOf(e)>-1&&(E.config[e]=s(t));E.redraw(),ye(!0)},E.setDate=function(e,t,n){if(void 0===t&&(t=!1),void 0===n&&(n=E.config.dateFormat),0!==e&&!e||e instanceof Array&&0===e.length)return E.clear(t);me(e,n),E.latestSelectedDateObj=E.selectedDates[E.selectedDates.length-1],E.redraw(),P(void 0,t),R(),0===E.selectedDates.length&&E.clear(!1),ye(t),t&&ge("onChange")},E.toggle=function(e){if(!0===E.isOpen)return E.close();E.open(e)};var pe={locale:[le,z],showMonths:[G,D,K],minDate:[P],maxDate:[P],clickOpens:[function(){!0===E.config.clickOpens?(x(E._input,"focus",E.open),x(E._input,"click",E.open)):(E._input.removeEventListener("focus",E.open),E._input.removeEventListener("click",E.open))}]};function me(e,t){var n=[];if(e instanceof Array)n=e.map((function(e){return E.parseDate(e,t)}));else if(e instanceof Date||"number"==typeof e)n=[E.parseDate(e,t)];else if("string"==typeof e)switch(E.config.mode){case"single":case"time":n=[E.parseDate(e,t)];break;case"multiple":n=e.split(E.config.conjunction).map((function(e){return E.parseDate(e,t)}));break;case"range":n=e.split(E.l10n.rangeSeparator).map((function(e){return E.parseDate(e,t)}))}else E.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(e)));E.selectedDates=E.config.allowInvalidPreload?n:n.filter((function(e){return e instanceof Date&&Q(e,!1)})),"range"===E.config.mode&&E.selectedDates.sort((function(e,t){return e.getTime()-t.getTime()}))}function fe(e){return e.slice().map((function(e){return"string"==typeof e||"number"==typeof e||e instanceof Date?E.parseDate(e,void 0,!0):e&&"object"==typeof e&&e.from&&e.to?{from:E.parseDate(e.from,void 0),to:E.parseDate(e.to,void 0)}:e})).filter((function(e){return e}))}function ge(e,t){if(void 0!==E.config){var n=E.config[e];if(void 0!==n&&n.length>0)for(var a=0;n[a]&&a<n.length;a++)n[a](E.selectedDates,E.input.value,E,t);"onChange"===e&&(E.input.dispatchEvent(he("change")),E.input.dispatchEvent(he("input")))}}function he(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!0),t}function _e(e){for(var t=0;t<E.selectedDates.length;t++)if(0===C(E.selectedDates[t],e))return""+t;return!1}function ve(){E.config.noCalendar||E.isMobile||!E.monthNav||(E.yearElements.forEach((function(e,t){var n=new Date(E.currentYear,E.currentMonth,1);n.setMonth(E.currentMonth+t),E.config.showMonths>1||"static"===E.config.monthSelectorType?E.monthElements[t].textContent=h(n.getMonth(),E.config.shorthandCurrentMonth,E.l10n)+" ":E.monthsDropdownContainer.value=n.getMonth().toString(),e.value=n.getFullYear().toString()})),E._hidePrevMonthArrow=void 0!==E.config.minDate&&(E.currentYear===E.config.minDate.getFullYear()?E.currentMonth<=E.config.minDate.getMonth():E.currentYear<E.config.minDate.getFullYear()),E._hideNextMonthArrow=void 0!==E.config.maxDate&&(E.currentYear===E.config.maxDate.getFullYear()?E.currentMonth+1>E.config.maxDate.getMonth():E.currentYear>E.config.maxDate.getFullYear()))}function Ee(e){return E.selectedDates.map((function(t){return E.formatDate(t,e)})).filter((function(e,t,n){return"range"!==E.config.mode||E.config.enableTime||n.indexOf(e)===t})).join("range"!==E.config.mode?E.config.conjunction:E.l10n.rangeSeparator)}function ye(e){void 0===e&&(e=!0),void 0!==E.mobileInput&&E.mobileFormatStr&&(E.mobileInput.value=void 0!==E.latestSelectedDateObj?E.formatDate(E.latestSelectedDateObj,E.mobileFormatStr):""),E.input.value=Ee(E.config.dateFormat),void 0!==E.altInput&&(E.altInput.value=Ee(E.config.altFormat)),!1!==e&&ge("onValueUpdate")}function be(e){var t=f(e),n=E.prevMonthNav.contains(t),a=E.nextMonthNav.contains(t);n||a?$(n?-1:1):E.yearElements.indexOf(t)>=0?t.select():t.classList.contains("arrowUp")?E.changeYear(E.currentYear+1):t.classList.contains("arrowDown")&&E.changeYear(E.currentYear-1)}return function(){E.element=E.input=g,E.isOpen=!1,function(){var t=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],r=e(e({},JSON.parse(JSON.stringify(g.dataset||{}))),_),i={};E.config.parseDate=r.parseDate,E.config.formatDate=r.formatDate,Object.defineProperty(E.config,"enable",{get:function(){return E.config._enable},set:function(e){E.config._enable=fe(e)}}),Object.defineProperty(E.config,"disable",{get:function(){return E.config._disable},set:function(e){E.config._disable=fe(e)}});var o="time"===r.mode;if(!r.dateFormat&&(r.enableTime||o)){var l=w.defaultConfig.dateFormat||a.dateFormat;i.dateFormat=r.noCalendar||o?"H:i"+(r.enableSeconds?":S":""):l+" H:i"+(r.enableSeconds?":S":"")}if(r.altInput&&(r.enableTime||o)&&!r.altFormat){var c=w.defaultConfig.altFormat||a.altFormat;i.altFormat=r.noCalendar||o?"h:i"+(r.enableSeconds?":S K":" K"):c+" h:i"+(r.enableSeconds?":S":"")+" K"}Object.defineProperty(E.config,"minDate",{get:function(){return E.config._minDate},set:ie("min")}),Object.defineProperty(E.config,"maxDate",{get:function(){return E.config._maxDate},set:ie("max")});var d=function(e){return function(t){E.config["min"===e?"_minTime":"_maxTime"]=E.parseDate(t,"H:i:S")}};Object.defineProperty(E.config,"minTime",{get:function(){return E.config._minTime},set:d("min")}),Object.defineProperty(E.config,"maxTime",{get:function(){return E.config._maxTime},set:d("max")}),"time"===r.mode&&(E.config.noCalendar=!0,E.config.enableTime=!0),Object.assign(E.config,i,r);for(var u=0;u<t.length;u++)E.config[t[u]]=!0===E.config[t[u]]||"true"===E.config[t[u]];for(n.filter((function(e){return void 0!==E.config[e]})).forEach((function(e){E.config[e]=s(E.config[e]||[]).map(A)})),E.isMobile=!E.config.disableMobile&&!E.config.inline&&"single"===E.config.mode&&!E.config.disable.length&&!E.config.enable&&!E.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),u=0;u<E.config.plugins.length;u++){var p=E.config.plugins[u](E)||{};for(var m in p)n.indexOf(m)>-1?E.config[m]=s(p[m]).map(A).concat(E.config[m]):void 0===r[m]&&(E.config[m]=p[m])}r.altInputClass||(E.config.altInputClass=oe().className+" "+E.config.altInputClass),ge("onParseConfig")}(),le(),E.input=oe(),E.input?(E.input._type=E.input.type,E.input.type="text",E.input.classList.add("flatpickr-input"),E._input=E.input,E.config.altInput&&(E.altInput=d(E.input.nodeName,E.config.altInputClass),E._input=E.altInput,E.altInput.placeholder=E.input.placeholder,E.altInput.disabled=E.input.disabled,E.altInput.required=E.input.required,E.altInput.tabIndex=E.input.tabIndex,E.altInput.type="text",E.input.setAttribute("type","hidden"),!E.config.static&&E.input.parentNode&&E.input.parentNode.insertBefore(E.altInput,E.input.nextSibling)),E.config.allowInput||E._input.setAttribute("readonly","readonly"),E._positionElement=E.config.positionElement||E._input):E.config.errorHandler(new Error("Invalid input element specified")),function(){E.selectedDates=[],E.now=E.parseDate(E.config.now)||new Date;var e=E.config.defaultDate||("INPUT"!==E.input.nodeName&&"TEXTAREA"!==E.input.nodeName||!E.input.placeholder||E.input.value!==E.input.placeholder?E.input.value:null);e&&me(e,E.config.dateFormat),E._initialDate=E.selectedDates.length>0?E.selectedDates[0]:E.config.minDate&&E.config.minDate.getTime()>E.now.getTime()?E.config.minDate:E.config.maxDate&&E.config.maxDate.getTime()<E.now.getTime()?E.config.maxDate:E.now,E.currentYear=E._initialDate.getFullYear(),E.currentMonth=E._initialDate.getMonth(),E.selectedDates.length>0&&(E.latestSelectedDateObj=E.selectedDates[0]),void 0!==E.config.minTime&&(E.config.minTime=E.parseDate(E.config.minTime,"H:i")),void 0!==E.config.maxTime&&(E.config.maxTime=E.parseDate(E.config.maxTime,"H:i")),E.minDateHasTime=!!E.config.minDate&&(E.config.minDate.getHours()>0||E.config.minDate.getMinutes()>0||E.config.minDate.getSeconds()>0),E.maxDateHasTime=!!E.config.maxDate&&(E.config.maxDate.getHours()>0||E.config.maxDate.getMinutes()>0||E.config.maxDate.getSeconds()>0)}(),E.utils={getDaysInMonth:function(e,t){return void 0===e&&(e=E.currentMonth),void 0===t&&(t=E.currentYear),1===e&&(t%4==0&&t%100!=0||t%400==0)?29:E.l10n.daysInMonth[e]}},E.isMobile||function(){var e=window.document.createDocumentFragment();if(E.calendarContainer=d("div","flatpickr-calendar"),E.calendarContainer.tabIndex=-1,!E.config.noCalendar){if(e.appendChild((E.monthNav=d("div","flatpickr-months"),E.yearElements=[],E.monthElements=[],E.prevMonthNav=d("span","flatpickr-prev-month"),E.prevMonthNav.innerHTML=E.config.prevArrow,E.nextMonthNav=d("span","flatpickr-next-month"),E.nextMonthNav.innerHTML=E.config.nextArrow,G(),Object.defineProperty(E,"_hidePrevMonthArrow",{get:function(){return E.__hidePrevMonthArrow},set:function(e){E.__hidePrevMonthArrow!==e&&(c(E.prevMonthNav,"flatpickr-disabled",e),E.__hidePrevMonthArrow=e)}}),Object.defineProperty(E,"_hideNextMonthArrow",{get:function(){return E.__hideNextMonthArrow},set:function(e){E.__hideNextMonthArrow!==e&&(c(E.nextMonthNav,"flatpickr-disabled",e),E.__hideNextMonthArrow=e)}}),E.currentYearElement=E.yearElements[0],ve(),E.monthNav)),E.innerContainer=d("div","flatpickr-innerContainer"),E.config.weekNumbers){var t=function(){E.calendarContainer.classList.add("hasWeeks");var e=d("div","flatpickr-weekwrapper");e.appendChild(d("span","flatpickr-weekday",E.l10n.weekAbbreviation));var t=d("div","flatpickr-weeks");return e.appendChild(t),{weekWrapper:e,weekNumbers:t}}(),n=t.weekWrapper,a=t.weekNumbers;E.innerContainer.appendChild(n),E.weekNumbers=a,E.weekWrapper=n}E.rContainer=d("div","flatpickr-rContainer"),E.rContainer.appendChild(K()),E.daysContainer||(E.daysContainer=d("div","flatpickr-days"),E.daysContainer.tabIndex=-1),U(),E.rContainer.appendChild(E.daysContainer),E.innerContainer.appendChild(E.rContainer),e.appendChild(E.innerContainer)}E.config.enableTime&&e.appendChild(function(){E.calendarContainer.classList.add("hasTime"),E.config.noCalendar&&E.calendarContainer.classList.add("noCalendar");var e=T(E.config);E.timeContainer=d("div","flatpickr-time"),E.timeContainer.tabIndex=-1;var t=d("span","flatpickr-time-separator",":"),n=m("flatpickr-hour",{"aria-label":E.l10n.hourAriaLabel});E.hourElement=n.getElementsByTagName("input")[0];var a=m("flatpickr-minute",{"aria-label":E.l10n.minuteAriaLabel});if(E.minuteElement=a.getElementsByTagName("input")[0],E.hourElement.tabIndex=E.minuteElement.tabIndex=-1,E.hourElement.value=i(E.latestSelectedDateObj?E.latestSelectedDateObj.getHours():E.config.time_24hr?e.hours:function(e){switch(e%24){case 0:case 12:return 12;default:return e%12}}(e.hours)),E.minuteElement.value=i(E.latestSelectedDateObj?E.latestSelectedDateObj.getMinutes():e.minutes),E.hourElement.setAttribute("step",E.config.hourIncrement.toString()),E.minuteElement.setAttribute("step",E.config.minuteIncrement.toString()),E.hourElement.setAttribute("min",E.config.time_24hr?"0":"1"),E.hourElement.setAttribute("max",E.config.time_24hr?"23":"12"),E.hourElement.setAttribute("maxlength","2"),E.minuteElement.setAttribute("min","0"),E.minuteElement.setAttribute("max","59"),E.minuteElement.setAttribute("maxlength","2"),E.timeContainer.appendChild(n),E.timeContainer.appendChild(t),E.timeContainer.appendChild(a),E.config.time_24hr&&E.timeContainer.classList.add("time24hr"),E.config.enableSeconds){E.timeContainer.classList.add("hasSeconds");var r=m("flatpickr-second");E.secondElement=r.getElementsByTagName("input")[0],E.secondElement.value=i(E.latestSelectedDateObj?E.latestSelectedDateObj.getSeconds():e.seconds),E.secondElement.setAttribute("step",E.minuteElement.getAttribute("step")),E.secondElement.setAttribute("min","0"),E.secondElement.setAttribute("max","59"),E.secondElement.setAttribute("maxlength","2"),E.timeContainer.appendChild(d("span","flatpickr-time-separator",":")),E.timeContainer.appendChild(r)}return E.config.time_24hr||(E.amPM=d("span","flatpickr-am-pm",E.l10n.amPM[o((E.latestSelectedDateObj?E.hourElement.value:E.config.defaultHour)>11)]),E.amPM.title=E.l10n.toggleTitle,E.amPM.tabIndex=-1,E.timeContainer.appendChild(E.amPM)),E.timeContainer}()),c(E.calendarContainer,"rangeMode","range"===E.config.mode),c(E.calendarContainer,"animate",!0===E.config.animate),c(E.calendarContainer,"multiMonth",E.config.showMonths>1),E.calendarContainer.appendChild(e);var r=void 0!==E.config.appendTo&&void 0!==E.config.appendTo.nodeType;if((E.config.inline||E.config.static)&&(E.calendarContainer.classList.add(E.config.inline?"inline":"static"),E.config.inline&&(!r&&E.element.parentNode?E.element.parentNode.insertBefore(E.calendarContainer,E._input.nextSibling):void 0!==E.config.appendTo&&E.config.appendTo.appendChild(E.calendarContainer)),E.config.static)){var l=d("div","flatpickr-wrapper");E.element.parentNode&&E.element.parentNode.insertBefore(l,E.element),l.appendChild(E.element),E.altInput&&l.appendChild(E.altInput),l.appendChild(E.calendarContainer)}E.config.static||E.config.inline||(void 0!==E.config.appendTo?E.config.appendTo:window.document.body).appendChild(E.calendarContainer)}(),function(){if(E.config.wrap&&["open","close","toggle","clear"].forEach((function(e){Array.prototype.forEach.call(E.element.querySelectorAll("[data-"+e+"]"),(function(t){return x(t,"click",E[e])}))})),E.isMobile)!function(){var e=E.config.enableTime?E.config.noCalendar?"time":"datetime-local":"date";E.mobileInput=d("input",E.input.className+" flatpickr-mobile"),E.mobileInput.tabIndex=1,E.mobileInput.type=e,E.mobileInput.disabled=E.input.disabled,E.mobileInput.required=E.input.required,E.mobileInput.placeholder=E.input.placeholder,E.mobileFormatStr="datetime-local"===e?"Y-m-d\\TH:i:S":"date"===e?"Y-m-d":"H:i:S",E.selectedDates.length>0&&(E.mobileInput.defaultValue=E.mobileInput.value=E.formatDate(E.selectedDates[0],E.mobileFormatStr)),E.config.minDate&&(E.mobileInput.min=E.formatDate(E.config.minDate,"Y-m-d")),E.config.maxDate&&(E.mobileInput.max=E.formatDate(E.config.maxDate,"Y-m-d")),E.input.getAttribute("step")&&(E.mobileInput.step=String(E.input.getAttribute("step"))),E.input.type="hidden",void 0!==E.altInput&&(E.altInput.type="hidden");try{E.input.parentNode&&E.input.parentNode.insertBefore(E.mobileInput,E.input.nextSibling)}catch(e){}x(E.mobileInput,"change",(function(e){E.setDate(f(e).value,!1,E.mobileFormatStr),ge("onChange"),ge("onClose")}))}();else{var e=l(re,50);if(E._debouncedChange=l(N,300),E.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&x(E.daysContainer,"mouseover",(function(e){"range"===E.config.mode&&ae(f(e))})),x(window.document.body,"keydown",ne),E.config.inline||E.config.static||x(window,"resize",e),void 0!==window.ontouchstart?x(window.document,"touchstart",J):x(window.document,"mousedown",J),x(window.document,"focus",J,{capture:!0}),!0===E.config.clickOpens&&(x(E._input,"focus",E.open),x(E._input,"click",E.open)),void 0!==E.daysContainer&&(x(E.monthNav,"click",be),x(E.monthNav,["keyup","increment"],I),x(E.daysContainer,"click",ue)),void 0!==E.timeContainer&&void 0!==E.minuteElement&&void 0!==E.hourElement){x(E.timeContainer,["increment"],L),x(E.timeContainer,"blur",L,{capture:!0}),x(E.timeContainer,"click",k),x([E.hourElement,E.minuteElement],["focus","click"],(function(e){return f(e).select()})),void 0!==E.secondElement&&x(E.secondElement,"focus",(function(){return E.secondElement&&E.secondElement.select()})),void 0!==E.amPM&&x(E.amPM,"click",(function(e){L(e),N()}))}E.config.allowInput&&x(E._input,"blur",te)}}(),(E.selectedDates.length||E.config.noCalendar)&&(E.config.enableTime&&R(E.config.noCalendar?E.latestSelectedDateObj:void 0),ye(!1)),D();var t=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!E.isMobile&&t&&se(),ge("onReady")}(),E}function D(e,t){for(var n=Array.prototype.slice.call(e).filter((function(e){return e instanceof HTMLElement})),a=[],r=0;r<n.length;r++){var i=n[r];try{if(null!==i.getAttribute("data-fp-omit"))continue;void 0!==i._flatpickr&&(i._flatpickr.destroy(),i._flatpickr=void 0),i._flatpickr=A(i,t||{}),a.push(i._flatpickr)}catch(e){console.error(e)}}return 1===a.length?a[0]:a}"function"!=typeof Object.assign&&(Object.assign=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!e)throw TypeError("Cannot convert undefined or null to object");for(var a=function(t){t&&Object.keys(t).forEach((function(n){return e[n]=t[n]}))},r=0,i=t;r<i.length;r++)a(i[r]);return e}),"undefined"!=typeof HTMLElement&&"undefined"!=typeof HTMLCollection&&"undefined"!=typeof NodeList&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(e){return D(this,e)},HTMLElement.prototype.flatpickr=function(e){return D([this],e)});var w=function(e,t){return"string"==typeof e?D(window.document.querySelectorAll(e),t):e instanceof Node?D([e],t):D(e,t)};return w.defaultConfig={},w.l10ns={en:e({},r),default:e({},r)},w.localize=function(t){w.l10ns.default=e(e({},w.l10ns.default),t)},w.setDefaults=function(t){w.defaultConfig=e(e({},w.defaultConfig),t)},w.parseDate=b({}),w.formatDate=y({}),w.compareDates=C,"undefined"!=typeof jQuery&&void 0!==jQuery.fn&&(jQuery.fn.flatpickr=function(e){return D(this,e)}),Date.prototype.fp_incr=function(e){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+("string"==typeof e?parseInt(e,10):e))},"undefined"!=typeof window&&(window.flatpickr=w),w}()},5240:function(e,t){!function(e){"use strict";var t="undefined"!=typeof window&&void 0!==window.flatpickr?window.flatpickr:{l10ns:{}},n={weekdays:{shorthand:["일","월","화","수","목","금","토"],longhand:["일요일","월요일","화요일","수요일","목요일","금요일","토요일"]},months:{shorthand:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],longhand:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"]},ordinal:function(){return"일"},rangeSeparator:" ~ "};t.l10ns.ko=n;var a=t.l10ns;e.Korean=n,e.default=a,Object.defineProperty(e,"__esModule",{value:!0})}(t)},4006:(e,t,n)=>{"use strict";n.d(t,{t:()=>a});class a{static MAIN_GROUP_NAME="MainContainer";static TEMPLATE_PDF_VIEWER_CONTAINER="TemplateViewerContainer";static TEMPLATE_PDF_VIEWER="TemplatePDFViewer";static READER_PDF_VIEWER_CONTAINER="ReaderViewerContainer";static READER_PDF_VIEWER="ReaderPDFViewer";static PREVIEW_READER_PDF_VIEWER_CONTAINER="PreviewReaderViewerContainer";static PREVIEW_READER_PDF_VIEWER="PreviewReaderPDFViewer";static TEMPLATE_LAYER_NAME="TemplateLayer";static TEMPLATE_LAYER_ASTERISK_NAME="TemplateAsteriskLayer";static TEMPLATE_LAYER_RECT_NAME="TemplateRect";static DRAG_BOX_NAME="DragBoxGroup";static SHOW_CLASS="Template-Show";static HIDE_CLASS="Template-Hide";static EDITOR_COMPONENT_CLASS="Editor-Component_Box";static EDITOR_ATTR_CLASS="Editor-Attribute";static FIELD_DELETE_BUTTON_CLASS="Field-Delete-Button";static MEMO_PROPERTY_BUTTON_CLASS="MEMO-Property-Button";static EDITOR_ATTR_KIND_CLASS="Attribute-kind";static EDITOR_ATTR_PANEL_CLASS="Attribute-Contents";static EDITOR_ATTR_PANEL_ID="Attribute-Panel";static EDITOR_ATTR_CONTENTS_ROW_CLASS="Attribute-Contents-Row";static EDITOR_ATTR_ROW_WRAP_CLASS="Attribute-Contents-Row-Wrap";static TITLE_WRAP_CLASS="Title-Wrap";static TITLE_CLASS="Title";static EDITOR_ATTR_SELECT_CLASS="Attribute-Select";static SWITCH_LABEL_CLASS="Attribute-Switch-Label";static SWITCH_LABEL_SLIDER_CLASS="Attribute-Switch-Slider";static SWITCH_LABEL_SLIDER_ROUND_CLASS="Round";static DIVIDER_CLASS="Divider";static EDITOR_ATTR_INPUT_CLASS="Attribute-Input";static EDITOR_ATTR_TEXTAREA_CLASS="Attribute-Textarea";static EDITOR_ATTR_DATE_INPUT_CLASS="Attribute-Date-Input";static EDITOR_ATTR_INPUT_WRAP_CLASS="Attribute-Input-Wrap";static CREATE_FIELD_ACTION="CreateFieldAction";static REMOVE_FIELD_ACTION="RemoveFieldAction";static FIELD_ATTR_CHANGE_ACTION="FieldAttrChangeAction";static GROUP_REMOVE_ACTION="GroupRemoveAction";static GROUP_ATTR_CHANGE_ACTION="GroupAttrChangeAction";static GROUP_ATTR_OWNER_CHANGE_ACTION="GroupAttrOwnerChangeAction";static READER_PAGE_FIELD_LAYER_CLASS="Reader-Page-Field-Layer";static READER_PAGE_MEMO_LAYER_CLASS="Reader-Page-Memo-Layer";static ASTERISK_ICON_CLASS="Asterisk-Icon";static ASTREISK_DIV_HEIGHT=12;static MINIMUM_DRAG_SIZE=10;static RADIO_TYPE_1="1";static RAIOD_TYPE_1_PATH='<path d="M24,12c-6.6,0-12,5.4-12,12s5.4,12,12,12s12-5.4,12-12S30.6,\n            12,24,12zM24,0C10.8,0,0,10.8,0,24s10.8,24,24,24s24-10.8,24-24S37.2,0,24,0zM24,43.2C13.4,43.2,4.8,34.6,4.8,24S13.4,\n            4.8,24,4.8S43.2,13.4,43.2,24S34.6,43.2,24,43.2z"/>';static RADIO_TYPE_2="2";static RAIOD_TYPE_2_PATH='<path d="M24,0C10.8,0,0,10.8,0,24s10.8,24,24,24s24-10.8,24-24S37.2,0,24,0zM24,43.2C13.4,43.2,4.8,34.6,4.8,24S13.4,            4.8,24,4.8S43.2,13.4,43.2,24S34.6,43.2,24,43.2z"/>';static NO_EVENT_LAYER="No-Event-Layer";static READER_FIELD_INPUT_MODE=0;static READER_FIELD_MEMO_MODE=1;static READER_FIELD_MEMO_MAKE_MODE=2}},6538:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});const a={INVALID_PARAM_LANGUAGE:e=>`Invalid parameter for \`language\` provided. Expected a string, but got ${typeof e}.`,INVALID_PARAM_JSON:e=>`Invalid parameter for \`json\` provided. Expected an object, but got ${typeof e}.`,EMPTY_PARAM_LANGUAGE:()=>"The parameter for `language` can't be an empty string.",EMPTY_PARAM_JSON:()=>"The parameter for `json` must have at least one key/value pair.",INVALID_PARAM_KEY:e=>`Invalid parameter for \`key\` provided. Expected a string, but got ${typeof e}.`,NO_LANGUAGE_REGISTERED:e=>`No translation for language "${e}" has been added, yet. Make sure to register that language using the \`.add()\` method first.`,TRANSLATION_NOT_FOUND:(e,t)=>`No translation found for key "${e}" in language "${t}". Is there a key/value in your translation file?`,INVALID_PARAMETER_SOURCES:e=>`Invalid parameter for \`sources\` provided. Expected either a string or an array, but got ${typeof e}.`,FETCH_ERROR:e=>`Could not fetch "${e.url}": ${e.status} (${e.statusText})`,INVALID_ENVIRONMENT:()=>"You are trying to execute the method `translatePageTo()`, which is only available in the browser. Your environment is most likely Node.js",MODULE_NOT_FOUND:e=>e,MISMATCHING_ATTRIBUTES:(e,t,n)=>`The attributes "data-i18n" and "data-i18n-attr" must contain the same number of keys.\n\nValues in \`data-i18n\`:      (${e.length}) \`${e.join(" ")}\`\nValues in \`data-i18n-attr\`: (${t.length}) \`${t.join(" ")}\`\n\nThe HTML element is:\n${n.outerHTML}`,INVALID_OPTIONS:e=>`Invalid config passed to the \`Translator\` constructor. Expected an object, but got ${typeof e}. Using default config instead.`};function r(e){return function(t,...n){if(e)try{const e=a[t];throw new TypeError(e?e(...n):"Unhandled Error")}catch(e){const n=e.stack.split(/\n/g)[1],[a,r]=n.split(/@/);console.error(`${e.message}\n\nThis error happened in the method \`${a}\` from: \`${r}\`.\n\nIf you don't want to see these error messages, turn off debugging by passing \`{ debug: false }\` to the constructor.\n\nError code: ${t}\n\nCheck out the documentation for more details about the API:\nhttps://github.com/andreasremdt/simple-translator#usage\n        `)}}}e=n.hmd(e);class i{constructor(e={}){this.debug=r(!0),("object"!=typeof e||Array.isArray(e))&&(this.debug("INVALID_OPTIONS",e),e={}),this.languages=new Map,this.config=Object.assign(i.defaultConfig,e);const{debug:t,registerGlobally:n,detectLanguage:a}=this.config;this.debug=r(t),n&&(this._globalObject[n]=this.translateForKey.bind(this)),a&&"browser"==this._env&&this._detectLanguage()}get _globalObject(){return"browser"==this._env?window:n.g}get _env(){return"undefined"!=typeof window?"browser":e.exports?"node":"browser"}_detectLanguage(){const e=localStorage.getItem(this.config.persistKey);if(e)this.config.defaultLanguage=e;else{const e=navigator.languages?navigator.languages[0]:navigator.language;this.config.defaultLanguage=e.substr(0,2)}}_getValueFromJSON(e,t){const n=this.languages.get(t);return e.split(".").reduce(((e,t)=>e?e[t]:null),n)}_replace(e,t){const n=e.getAttribute("data-i18n")?.split(/\s/g),a=e?.getAttribute("data-i18n-attr")?.split(/\s/g);a&&n.length!=a.length&&this.debug("MISMATCHING_ATTRIBUTES",n,a,e),n.forEach(((n,r)=>{const i=this._getValueFromJSON(n,t),o=a?a[r]:"innerHTML";i?"innerHTML"==o?e[o]=i:e.setAttribute(o,i):this.debug("TRANSLATION_NOT_FOUND",n,t)}))}translatePageTo(e=this.config.defaultLanguage){if("node"==this._env)return void this.debug("INVALID_ENVIRONMENT");if("string"!=typeof e)return void this.debug("INVALID_PARAM_LANGUAGE",e);if(0==e.length)return void this.debug("EMPTY_PARAM_LANGUAGE");if(!this.languages.has(e))return void this.debug("NO_LANGUAGE_REGISTERED",e);const t="string"==typeof this.config.selector?Array.from(document.querySelectorAll(this.config.selector)):this.config.selector;t.length&&t.length>0?t.forEach((t=>this._replace(t,e))):null==t.length&&this._replace(t,e),this._currentLanguage=e,document.documentElement.lang=e,this.config.persist&&localStorage.setItem(this.config.persistKey,e)}translateForKey(e,t=this.config.defaultLanguage){if("string"!=typeof e)return this.debug("INVALID_PARAM_KEY",e),null;if(!this.languages.has(t))return this.debug("NO_LANGUAGE_REGISTERED",t),null;return this._getValueFromJSON(e,t)||(this.debug("TRANSLATION_NOT_FOUND",e,t),null)}add(e,t){return"string"!=typeof e?(this.debug("INVALID_PARAM_LANGUAGE",e),this):0==e.length?(this.debug("EMPTY_PARAM_LANGUAGE"),this):Array.isArray(t)||"object"!=typeof t?(this.debug("INVALID_PARAM_JSON",t),this):0==Object.keys(t).length?(this.debug("EMPTY_PARAM_JSON"),this):(this.languages.set(e,t),this)}remove(e){return"string"!=typeof e?(this.debug("INVALID_PARAM_LANGUAGE",e),this):0==e.length?(this.debug("EMPTY_PARAM_LANGUAGE"),this):(this.languages.delete(e),this)}fetch(e,t=!0){if(!Array.isArray(e)&&"string"!=typeof e)return this.debug("INVALID_PARAMETER_SOURCES",e),null;Array.isArray(e)||(e=[e]);const n=e.map((e=>{const t=e.replace(/\.json$/,"").replace(/^\//,"");return`${this.config.filesLocation.replace(/\/$/,"")}/${t}.json`}));if("browser"==this._env)return Promise.all(n.map((e=>fetch(e)))).then((e=>Promise.all(e.map((e=>{if(e.ok)return e.json();this.debug("FETCH_ERROR",e)}))))).then((n=>(n=n.filter((e=>e)),t&&n.forEach(((t,n)=>{this.add(e[n],t)})),n.length>1?n:n[0])));this._env}setDefaultLanguage(e){if("string"==typeof e){if(0!=e.length)return this.languages.has(e)?void(this.config.defaultLanguage=e):(this.debug("NO_LANGUAGE_REGISTERED",e),null);this.debug("EMPTY_PARAM_LANGUAGE")}else this.debug("INVALID_PARAM_LANGUAGE",e)}get currentLanguage(){return this._currentLanguage||this.config.defaultLanguage}get defaultLanguage(){return this.config.defaultLanguage}static get defaultConfig(){return{defaultLanguage:"en",detectLanguage:!0,selector:"[data-i18n]",debug:!1,registerGlobally:"__",persist:!1,persistKey:"preferred_language",filesLocation:"/i18n"}}}const o=i},5212:(e,t,n)=>{"use strict";n.d(t,{PDFCursorTools:()=>i}),!document.documentMode||document.documentMode;const a=window.chrome;let r;a&&(a.webstore||a.app),/Apple/.test(navigator.vendor)&&/Version\/([6-9]\d*|[1-5]\d+)/.test(navigator.userAgent),["webkitM","mozM","msM","oM","m"].some((function(e){let t=e+"atches";return t in document.documentElement&&(r=t),t+="Selector",t in document.documentElement&&(r=t),r}));class i{constructor({container:e,eventBus:t,cursorToolOnLoad:n=1}){this.container=e,this.eventBus=t,this.active=0,this.activeBeforePresentationMode=null,this.handTool=new GrabToPan({element:this.container}),this._addEventListeners(),Promise.resolve().then((()=>{this.switchTool(n)}))}get activeTool(){return this.active}switchTool(e){if(null!==this.activeBeforePresentationMode)return;if(e===this.active)return;const t=()=>{switch(this.active){case 0:break;case 1:this.handTool.deactivate()}};switch(e){case 0:t();break;case 1:t(),this.handTool.activate();break;case 2:break;default:return void console.error(`switchTool: "${e}" is an unsupported value.`)}this.active=e,this._dispatchEvent()}_dispatchEvent(){this.eventBus.dispatch("cursortoolchanged",{source:this,tool:this.active})}_addEventListeners(){this.eventBus._on("switchcursortool",(e=>{this.switchTool(e.tool)})),this.eventBus._on("presentationmodechanged",(e=>{if(e.switchInProgress)return;let t;e.active?(t=this.active,this.switchTool(0),this.activeBeforePresentationMode=t):(t=this.activeBeforePresentationMode,this.activeBeforePresentationMode=null,this.switchTool(t))}))}}},961:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{X:()=>ReaderPageData});var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(707),_Constants_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(4006),_flatpickr_min_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2106),_flatpickr_min_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_flatpickr_min_js__WEBPACK_IMPORTED_MODULE_1__),_l10n_ko_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(5240),_l10n_ko_js__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_l10n_ko_js__WEBPACK_IMPORTED_MODULE_2__);class ReaderPageData{constructor(e,t,n,a=null,r=!1,i=null){this.pageNo=e,this.fields={},this.memos={},this.datePicker=void 0,this.m_defaultValueInfo=t,this.m_ownerNode=n,this.m_readonly=r,this.alertFunc=a,this.signCanvas=i;let o=new Blob(['<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48"><path d="M17.2 32.2L4.9 19.9 0 24.8 17.2 42 48 10.9 43.1 6z"/></svg >'],{type:"image/svg+xml"});this.checkImgurl=URL.createObjectURL(o);let l=new Blob(['<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48">            <path d="M24,12c-6.6,0-12,5.4-12,12s5.4,12,12,12s12-5.4,12-12S30.6,            12,24,12zM24,0C10.8,0,0,10.8,0,24s10.8,24,24,24s24-10.8,24-24S37.2,0,24,0zM24,43.2C13.4,43.2,4.8,34.6,4.8,24S13.4,            4.8,24,4.8S43.2,13.4,43.2,24S34.6,43.2,24,43.2z"/></svg >'],{type:"image/svg+xml"});this.radioOnImgurl=URL.createObjectURL(l);let s=new Blob(['<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48">            <path d="M24,0C10.8,0,0,10.8,0,24s10.8,24,24,24s24-10.8,24-24S37.2,0,24,0zM24,43.2C13.4,43.2,4.8,34.6,4.8,24S13.4,            4.8,24,4.8S43.2,13.4,43.2,24S34.6,43.2,24,43.2z"/></svg >'],{type:"image/svg+xml"});this.radioOffImgurl=URL.createObjectURL(s),this.memoPropeties={fontFamily:"MalgunGothic",fontSize:16,fontColor:"#000000",backColor:"#33333333",isBold:!1}}pushMemo(e,t){this.memos[e]=t}removeMemo(e){delete this.memos[e]}pushField(e,t){this.fields[e]=t}getField(e){return this.fields[e]}isRequiredFieldValueEmpty(){const e=Object.keys(this.fields);for(var t=0;t<e.length;++t){const n=this.fields[e[t]];if("true"===n.m_required){let e=this.m_ownerNode.querySelector("#"+n.m_id+"_div");if(_utils_utils_js__WEBPACK_IMPORTED_MODULE_0__.c.isStringEmpty(n.m_value)){e.classList.add("EmptyField");let t=e.getBoundingClientRect(),n=this.m_ownerNode.querySelector(" #"+_Constants_js__WEBPACK_IMPORTED_MODULE_3__.t.READER_PDF_VIEWER_CONTAINER),a=n.getBoundingClientRect();null===n&&(n=this.m_ownerNode.querySelector(" #"+_Constants_js__WEBPACK_IMPORTED_MODULE_3__.t.PREVIEW_READER_PDF_VIEWER_CONTAINER));let r=n.scrollTop+t.top-a.top;return n.scrollTop=r-a.height/2,!0}null!==e&&void 0!==e.classList&&e.classList.contains("EmptyField")&&e.classList.toggle("EmptyField")}}return!1}createFieldLayer(e,t,n){let a=document.createElement("div");return a.style.position="absolute",a.style.left="0px",a.style.top="0px",a.style.width=e,a.style.height=t,a.className=n,a}createMemoDiv(e,t,n,a,r){const i=n.convertToViewportPoint(t.m_pdfX,t.m_pdfY),o=n.convertToViewportPoint(t.m_pdfX2,t.m_pdfY2),l=10,s=i[0],c=i[1],d=o[0],u=o[1],p=Math.abs(d-s),m=Math.abs(u-c);let f=document.createElement("div");f.style.position="absolute",f.style.left=s-l+"px",f.style.top=c-l+"px",f.style.width=p+l+"px",f.style.height=m+l+"px",f.id=t.m_id+"_div",f.style.backgroundColor=t.m_backColor,f.style.outlineColor=t.m_backColor,f.style.outlineStyle="solid",f.style.outlineWidth="1px";const g=Math.abs(t.m_pdfX-t.m_pdfX2),h=(Math.abs(t.m_pdfY-t.m_pdfY2),p/g);let _=document.createElement("textarea");_.style.position="absolute",_.style.left="5px",_.style.top="5px",_.style.border="none",_.style.width=p+"px",_.style.height=m+"px",_.style.fontFamily=t.m_fontName,_.style.fontSize=t.m_fontSize*h+"px",_.style.color=t.m_fontColor,_.style.textAlign=t.m_textAlign,t.m_readonly&&(_.readOnly=!0),"true"===t.m_bold&&(_.style.fontWeight="bold"),_.innerHTML=t.m_value,_.style.backgroundColor="transparent",_.style.resize="none",_.addEventListener("change",(function(e){t.m_value=e.target.value.replaceAll("\n","&#13;&#10;")}),!0),f.appendChild(_),jQuery(f).draggable({containment:"parent",stop:function(e,a){let r=n.convertToPdfPoint(a.position.left+l,a.position.top+l);t.m_pdfX=r[0],t.m_pdfY=r[1];let i=n.convertToPdfPoint(a.position.left+l+p,a.position.top+l+m);t.m_pdfX2=i[0],t.m_pdfY2=i[1]}}).resizable({containment:"parent",alsoResize:jQuery(_),resize:function(e,a){let r=n.convertToPdfPoint(a.position.left+l,a.position.top+l);t.m_pdfX=r[0],t.m_pdfY=r[1];let i=n.convertToPdfPoint(a.position.left+l+a.size.width-l,a.position.top+l+a.size.height-l);t.m_pdfX2=i[0],t.m_pdfY2=i[1],t.m_width=a.size.width,t.m_height=a.size.height}});let v=document.createElement("div");v.classList.add(_Constants_js__WEBPACK_IMPORTED_MODULE_3__.t.FIELD_DELETE_BUTTON_CLASS),v.dataset.memoId=t.m_id,v.dataset.memoPageNo=t.m_pageNo,v.addEventListener("click",a),f.appendChild(v);let E=document.createElement("div");return E.classList.add(_Constants_js__WEBPACK_IMPORTED_MODULE_3__.t.MEMO_PROPERTY_BUTTON_CLASS),E.dataset.memoId=t.m_id,E.dataset.memoPageNo=t.m_pageNo,E.addEventListener("click",r),f.appendChild(E),f}createFieldDiv(e,t,n,a){const r=n.convertToViewportPoint(t.m_pdfX,t.m_pdfY),i=n.convertToViewportPoint(t.m_pdfX2,t.m_pdfY2),o=r[0],l=r[1],s=i[0],c=i[1],d=Math.abs(s-o),u=Math.abs(c-l);let p=document.createElement("div");p.style.position="absolute",p.style.left=o+"px",p.style.top=l+"px",p.style.width=d+"px",p.style.height=u+"px",p.id=t.m_id+"_div",p.style.backgroundColor="rgba(0, 158, 218, 0.2)",p.style.outlineColor="#91aaba",p.style.outlineStyle="dashed",p.style.outlineWidth="1px",p.addEventListener("focus",(function(e){p.style.outlineColor="rgb(13 63 250 / 88%)",p.style.outlineWidth="3px"}),!0),p.addEventListener("blur",(function(e){p.style.outlineColor="#91aaba",p.style.outlineWidth="1px"}),!0);const m=Math.abs(t.m_pdfX-t.m_pdfX2),f=(Math.abs(t.m_pdfY-t.m_pdfY2),d/m);switch(t.m_type){case"TextField":case"NumberField":case"DateField":{let n=e.createTextField(t,d,u,f,e);p.appendChild(n),"NumberField"===t.m_type&&"true"===t.m_useCalc&&n.addEventListener("focus",(()=>{e.showCalc(n,o,l,u,a)}));break}case"MultiLineTextField":{let n=e.createMultilineTextField(t,d,u,f,e);p.appendChild(n);break}case"LabelField":{let n=e.createLabelField(t,d,u,f,e);p.appendChild(n);break}case"SignField":{let n=e.createSignField(t,d,u,e,t.m_useDrawSign,t.m_useImageSign,t.m_useRegSign,t.m_regSignApiUrl);p.appendChild(n);break}case"ImageField":{let n=e.createImageField(t,d,u,e);p.appendChild(n);break}case"CheckboxField":{let n=e.createCheckboxField(t,d,u,e);p.appendChild(n);break}case"RadioField":{let n=e.createRadioField(t,d,u,e);p.appendChild(n);break}case"ComboboxField":{let n=e.createComboboxField(t,d,u,e);p.appendChild(n);break}}return p}createField(e,t,n,a,r){let i=this,o=e.querySelector("."+_Constants_js__WEBPACK_IMPORTED_MODULE_3__.t.READER_PAGE_FIELD_LAYER_CLASS);null!=o&&e.removeChild(o);const l=Object.keys(i.fields);let s=i.createFieldLayer(e.style.width,e.style.height,_Constants_js__WEBPACK_IMPORTED_MODULE_3__.t.READER_PAGE_FIELD_LAYER_CLASS);n!==_Constants_js__WEBPACK_IMPORTED_MODULE_3__.t.READER_FIELD_INPUT_MODE&&s.classList.add(_Constants_js__WEBPACK_IMPORTED_MODULE_3__.t.NO_EVENT_LAYER),e.appendChild(s);let c=null;l.length>0&&(c=document.createElement("div"),c.style.position="relative",c.style.width="100%",c.style.height="100%",s.appendChild(c));var d=this;l.forEach((function(e){var n=i.fields[e];let a=i.createFieldDiv(d,n,t,c);c.appendChild(a)}));let u=e.querySelector("."+_Constants_js__WEBPACK_IMPORTED_MODULE_3__.t.READER_PAGE_MEMO_LAYER_CLASS);null!=u&&e.removeChild(u);let p=i.createFieldLayer(e.style.width,e.style.height,_Constants_js__WEBPACK_IMPORTED_MODULE_3__.t.READER_PAGE_MEMO_LAYER_CLASS);n===_Constants_js__WEBPACK_IMPORTED_MODULE_3__.t.READER_FIELD_INPUT_MODE&&p.classList.add(_Constants_js__WEBPACK_IMPORTED_MODULE_3__.t.NO_EVENT_LAYER),e.appendChild(p);let m=document.createElement("div");m.style.position="relative",m.style.width="100%",m.style.height="100%",p.appendChild(m),Object.keys(i.memos).forEach((function(e){let n=i.memos[e],o=i.createMemoDiv(d,n,t,a,r);m.appendChild(o)}))}createTextField(e,t,n,a,r){let i=document.createElement("input");if(i.style.position="absolute",i.style.left="0px",i.style.top="0px",i.style.border="none",i.style.width=t+"px",i.style.height=n+"px",i.style.fontFamily=e.m_fontName,i.style.fontSize=e.m_fontSize*a+"px",i.style.color=e.m_fontColor,i.style.textAlign=e.m_textAlign,this.m_readonly&&(i.readOnly=!0),"true"===e.m_bold&&(i.style.fontWeight="bold"),i.value=e.m_value,i.style.backgroundColor="transparent",i.addEventListener("change",(function(t){return!_utils_utils_js__WEBPACK_IMPORTED_MODULE_0__.c.isStringEmpty(e.m_inputMin)&&Number(t.target.value)<Number(e.m_inputMin)?(t.target.value=e.m_inputMin,e.m_value=t.target.value,alert("입력 범위를 벗어났습니다.\n다시 입력해주세요."),!1):!_utils_utils_js__WEBPACK_IMPORTED_MODULE_0__.c.isStringEmpty(e.m_inputMax)&&Number(t.target.value)>Number(e.m_inputMax)?(t.target.value=e.m_inputMax,e.m_value=t.target.value,alert("입력 범위를 벗어났습니다.\n다시 입력해주세요."),!1):void(e.m_value=t.target.value)}),!0),!_utils_utils_js__WEBPACK_IMPORTED_MODULE_0__.c.isStringEmpty(e.m_defaultValue)){let t=this.m_defaultValueInfo[e.m_defaultValue];void 0!==t&&(i.value=t,e.m_value=t)}if("DateField"===e.m_type){let t=null;"true"===e.m_useCurrentDate&&(t=new Date,e.m_value=_flatpickr_min_js__WEBPACK_IMPORTED_MODULE_1___default().formatDate(t,e.m_inputFormat)),r.datePicker=_flatpickr_min_js__WEBPACK_IMPORTED_MODULE_1___default()(i,{locale:_l10n_ko_js__WEBPACK_IMPORTED_MODULE_2__.Korean,dateFormat:e.m_inputFormat,defaultDate:t,minDate:e.m_inputMin,maxDate:e.m_inputMax,onClose:function(t,n,a){e.m_value=n}})}else"NumberField"===e.m_type&&(i.type="number",_utils_utils_js__WEBPACK_IMPORTED_MODULE_0__.c.isStringEmpty(e.m_inputMax)||(i.max=Number(e.m_inputMax)),_utils_utils_js__WEBPACK_IMPORTED_MODULE_0__.c.isStringEmpty(e.m_inputMin)||(i.min=Number(e.m_inputMin)));return i}showCalc(fieldInput,fieldDivX,fieldDivY,fieldDivH,fieldWraper){let oldCalc=fieldWraper.querySelector(".CalcContainer");null!=oldCalc&&oldCalc.remove();let calcContainer=document.createElement("div");calcContainer.className="CalcContainer";let calcForm=document.createElement("form");calcForm.name="CalcForm";let displayDiv=document.createElement("div");displayDiv.className="CalcDisplay";let displayResultInput=document.createElement("input");displayResultInput.type="text",displayResultInput.placeholder="0",displayResultInput.name="CalcDisplayResult",displayDiv.appendChild(displayResultInput),calcForm.appendChild(displayDiv);let calcButtonsDiv=document.createElement("div");calcButtonsDiv.className="CalcButtons";let calcRow1=document.createElement("div");calcRow1.className="CalcRow";let calcB7=document.createElement("input");calcB7.type="button",calcB7.value="7",calcB7.addEventListener("click",(()=>{displayResultInput.value=displayResultInput.value+calcB7.value}));let calcB8=document.createElement("input");calcB8.type="button",calcB8.value="8",calcB8.addEventListener("click",(()=>{displayResultInput.value=displayResultInput.value+calcB8.value}));let calcB9=document.createElement("input");calcB9.type="button",calcB9.value="9",calcB9.addEventListener("click",(()=>{displayResultInput.value=displayResultInput.value+calcB9.value}));let calcAddB=document.createElement("input");calcAddB.type="button",calcAddB.value="+",calcAddB.addEventListener("click",(()=>{displayResultInput.value=displayResultInput.value+calcAddB.value})),calcRow1.appendChild(calcB7),calcRow1.appendChild(calcB8),calcRow1.appendChild(calcB9),calcRow1.appendChild(calcAddB);let calcRow2=document.createElement("div");calcRow2.className="CalcRow";let calcB4=document.createElement("input");calcB4.type="button",calcB4.value="4",calcB4.addEventListener("click",(()=>{displayResultInput.value=displayResultInput.value+calcB4.value}));let calcB5=document.createElement("input");calcB5.type="button",calcB5.value="5",calcB5.addEventListener("click",(()=>{displayResultInput.value=displayResultInput.value+calcB5.value}));let calcB6=document.createElement("input");calcB6.type="button",calcB6.value="6",calcB6.addEventListener("click",(()=>{displayResultInput.value=displayResultInput.value+calcB6.value}));let calcSubB=document.createElement("input");calcSubB.type="button",calcSubB.value="-",calcSubB.addEventListener("click",(()=>{displayResultInput.value=displayResultInput.value+calcSubB.value})),calcRow2.appendChild(calcB4),calcRow2.appendChild(calcB5),calcRow2.appendChild(calcB6),calcRow2.appendChild(calcSubB);let calcRow3=document.createElement("div");calcRow3.className="CalcRow";let calcB1=document.createElement("input");calcB1.type="button",calcB1.value="1",calcB1.addEventListener("click",(()=>{displayResultInput.value=displayResultInput.value+calcB1.value}));let calcB2=document.createElement("input");calcB2.type="button",calcB2.value="2",calcB2.addEventListener("click",(()=>{displayResultInput.value=displayResultInput.value+calcB2.value}));let calcB3=document.createElement("input");calcB3.type="button",calcB3.value="3",calcB3.addEventListener("click",(()=>{displayResultInput.value=displayResultInput.value+calcB3.value}));let calcMulB=document.createElement("input");calcMulB.type="button",calcMulB.value="*",calcMulB.addEventListener("click",(()=>{displayResultInput.value=displayResultInput.value+calcMulB.value})),calcRow3.appendChild(calcB1),calcRow3.appendChild(calcB2),calcRow3.appendChild(calcB3),calcRow3.appendChild(calcMulB);let calcRow4=document.createElement("div");calcRow4.className="CalcRow";let calcB0=document.createElement("input");calcB0.type="button",calcB0.value="0",calcB0.addEventListener("click",(()=>{displayResultInput.value=displayResultInput.value+calcB0.value}));let calcACB=document.createElement("input");calcACB.type="button",calcACB.value="AC",calcACB.addEventListener("click",(()=>{displayResultInput.value=""}));let calcDivB=document.createElement("input");calcDivB.type="button",calcDivB.value="/",calcDivB.addEventListener("click",(()=>{displayResultInput.value=displayResultInput.value+calcDivB.value}));let calcEqualB=document.createElement("input");calcEqualB.type="button",calcEqualB.value="=",calcEqualB.addEventListener("click",(function(){displayResultInput.value=eval(displayResultInput.value),fieldInput.value=displayResultInput.value,fieldInput.dispatchEvent(new Event("change"))})),calcRow4.appendChild(calcB0),calcRow4.appendChild(calcACB),calcRow4.appendChild(calcDivB),calcRow4.appendChild(calcEqualB),calcButtonsDiv.appendChild(calcRow1),calcButtonsDiv.appendChild(calcRow2),calcButtonsDiv.appendChild(calcRow3),calcButtonsDiv.appendChild(calcRow4),calcForm.appendChild(calcButtonsDiv),calcContainer.appendChild(calcForm),calcContainer.style.position="absolute",calcContainer.style.left=fieldDivX+"px",calcContainer.style.top=fieldDivY+fieldDivH+10+"px";let closeBtnDiv=document.createElement("div");closeBtnDiv.classList.add(_Constants_js__WEBPACK_IMPORTED_MODULE_3__.t.FIELD_DELETE_BUTTON_CLASS),calcContainer.appendChild(closeBtnDiv),closeBtnDiv.addEventListener("click",(()=>{let e=fieldWraper.querySelector(".CalcContainer");null!=e&&e.remove()})),fieldWraper.appendChild(calcContainer)}createMultilineTextField(e,t,n,a,r){let i=document.createElement("textarea");return i.style.position="absolute",i.style.left="0px",i.style.top="0px",i.style.border="none",i.style.width=t+"px",i.style.height=n+"px",i.style.fontFamily=e.m_fontName,i.style.fontSize=e.m_fontSize*a+"px",i.style.color=e.m_fontColor,i.style.textAlign=e.m_textAlign,e.m_readonly&&(i.readOnly=!0),"true"===e.m_bold&&(i.style.fontWeight="bold"),i.value=e.m_value,i.style.backgroundColor="transparent",i.style.resize="none",i.addEventListener("change",(function(t){e.m_value=t.target.value}),!0),i}createSignField(e,t,n,a,r,i,o,l){let s=document.createElement("canvas");if(s.style.position="absolute",s.style.left="0px",s.style.top="0px",s.style.width=t+"px",s.style.height=n+"px",s.style.border="none",s.id=e.m_id+"_canvas",this.m_readonly||s.addEventListener("click",(function(s){let c=a.m_ownerNode.querySelector(" #signElement"),d=c.querySelector(".Sign-Layerpop");d.setAttribute("fieldId",e.m_id),d.setAttribute("pageNo",e.m_pageNo),d.setAttribute("signWidth",t),d.setAttribute("signHeight",n),d.setAttribute("drawSign",r),d.setAttribute("imageSign",i),d.setAttribute("regSign",o),d.setAttribute("regSignApiUrl",l),c.classList.contains("Template-Hide")&&(c.classList.toggle("Template-Hide"),c.dispatchEvent(new Event("change")));var u="true"===d.getAttribute("drawsign"),p="true"===d.getAttribute("imagesign"),m="true"===d.getAttribute("regsign"),f=document.getElementById("signDrawTabButton"),g=document.getElementById("stampSignTabButton"),h=document.getElementById("registeredSignTabButton");f.style.display=u?"":"none",g.style.display=p?"":"none",h.style.display=m?"":"none",document.querySelectorAll(".Popup-Tab-Main li").forEach((e=>e.classList.remove("on"))),u&&"none"!==f.style.display?(f.classList.add("on"),f.click()):p&&"none"!==g.style.display?(g.classList.add("on"),g.click()):m&&"none"!==h.style.display&&(h.classList.add("on"),h.click()),a.signCanvas.freeDrawingBrush.width=e.m_signPenThickness,a.signCanvas.freeDrawingBrush.color=e.m_signPenColor}),!0),""!==e.m_value&&void 0!==e.m_value&&null!==e.m_value)if("path"===e.signType||"textPath"===e.signType){const r=JSON.parse(e.m_value);_utils_utils_js__WEBPACK_IMPORTED_MODULE_0__.c.addObjectsToCanvas(a.m_ownerNode,e,s,t,n,r.objects,e.m_orgSignWidth,e.m_orgSignHeight)}else if("image"===e.signType){let r=a.m_ownerNode.querySelector(" #stampImageTag");r.src=e.m_value;let i=new fabric.Image(r);_utils_utils_js__WEBPACK_IMPORTED_MODULE_0__.c.addObjectsToCanvas(a.m_ownerNode,e,s,t,n,[i],e.m_orgSignWidth,e.m_orgSignHeight)}return s}createImageField(e,t,n,a){let r=document.createElement("div");r.style.position="absolute",r.style.left="0px",r.style.top="0px",r.style.width=t+"px",r.style.height=n+"px",r.style.border="none",r.style.display="flex",r.style.alignItems="center",r.style.justifyContent="center",r.id=e.m_id+"_container";let i=document.createElement("img");i.style.maxWidth="100%",i.style.maxHeight="100%",i.style.border="none",i.style.objectFit="contain",i.id=e.m_id+"_container",r.appendChild(i);let o=document.createElement("input");return o.type="file",o.id=e.m_id+"_file_input",o.accept="image/*",o.style.display="none",r.appendChild(o),this.m_readonly||r.addEventListener("click",(function(e){o.click()}),!0),o.addEventListener("change",(function(t){const n=t.target.files,r=n[0];null!=r&&(r.type.startsWith("image/")?_utils_utils_js__WEBPACK_IMPORTED_MODULE_0__.c.imageFileToBase64(n[0],(function(t){i.src=t,e.m_value=i.src})):null!==a.alertFunc&&a.alertFunc(_utils_utils_js__WEBPACK_IMPORTED_MODULE_0__.c.translateForKey("Reader.onlyImageMsg")))})),""!==e.m_value&&void 0!==e.m_value&&null!==e.m_value&&(i.src=e.m_value),r}createCheckboxField(e,t,n,a){let r=document.createElement("div");r.style.position="absolute",r.style.left="0px",r.style.top="0px",r.style.width=t+"px",r.style.height=n+"px",r.style.border="none",r.id=e.m_id+"_container";let i=document.createElement("img");return i.style.width="100%",i.style.height="100%",i.style.border="none",i.id=e.m_id+"_img",i.src=this.checkImgurl,this.m_readonly||r.addEventListener("click",(function(t){"true"===e.m_value?(e.m_value="false",i.style.display="none"):(e.m_value="true",i.style.display="block")})),r.appendChild(i),""!==e.m_value&&void 0!==e.m_value&&null!==e.m_value&&"true"===e.m_value?i.style.display="block":i.style.display="none",r}createRadioField(e,t,n,a){let r=document.createElement("div");r.style.position="absolute",r.style.left="0px",r.style.top="0px",r.style.width=t+"px",r.style.height=n+"px",r.style.border="none",r.id=e.m_id+"_container";let i=document.createElement("img");i.style.width="100%",i.style.height="100%",i.style.border="none",i.id=e.m_id+"_img",i.src=this.radioOffImgurl,r.appendChild(i);let o=document.createElement("input");return o.type="radio",o.value=e.m_defaultValue,o.id=e.m_id+"_radio",o.name=e.m_groupName,o.style.display="none",r.appendChild(o),this.m_readonly||r.addEventListener("click",(function(e){o.click()})),o.addEventListener("change",(function(t){let n=t.target,r=t.target.closest("div.Reader-Page-Field-Layer");r.querySelectorAll("input[name='"+e.m_groupName+"']").forEach((function(e){let t=e.id.replace("_radio","");a.fields[t].m_value=n.value;let i=e.id.replace("_radio","_img");r.querySelector("#"+i).src=e===n?a.radioOnImgurl:a.radioOffImgurl}))})),""!==e.m_value&&void 0!==e.m_value&&null!==e.m_value&&e.m_value===e.m_id?i.src=a.radioOnImgurl:i.src=a.radioOffImgurl,r}createLabelField(e,t,n,a,r){let i=document.createElement("div");if(i.style.position="absolute",i.style.left="0px",i.style.top="0px",i.style.border="none",i.style.width=t+"px",i.style.height=n+"px",i.style.fontFamily=e.m_fontName,i.style.fontSize=e.m_fontSize*a+"px",i.style.color=e.m_fontColor,i.style.textAlign=e.m_textAlign,i.style.lineHeight=n+"px","true"===e.m_bold&&(i.style.fontWeight="bold"),i.style.backgroundColor="transparent",!_utils_utils_js__WEBPACK_IMPORTED_MODULE_0__.c.isStringEmpty(e.m_defaultValue)){let t=this.m_defaultValueInfo[e.m_defaultValue];void 0!==t&&(e.m_value=t)}return i.textContent=e.m_value,i}createComboboxField(e,t,n,a){var r=document.createElement("select");r.style.position="absolute",r.style.left="0px",r.style.top="0px",r.style.border="none",r.style.width=t+"px",r.style.height=n+"px",r.style.backgroundColor="transparent",r.className=_Constants_js__WEBPACK_IMPORTED_MODULE_3__.t.EDITOR_ATTR_SELECT_CLASS;var i=document.createElement("option");i.value="",i.text=_utils_utils_js__WEBPACK_IMPORTED_MODULE_0__.c.translateForKey("Reader.selectDefaultText"),r.appendChild(i);let o=e.m_value;_utils_utils_js__WEBPACK_IMPORTED_MODULE_0__.c.isStringEmpty(o)&&(o=e.m_defaultValue);const l=e.m_comboboxList.split("\n");for(var s=0;s<l.length;s++){var c=document.createElement("option");c.value=l[s],c.text=l[s],c.value===o&&(c.selected="selected"),r.appendChild(c)}return _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__.c.isStringEmpty(e.m_value)&&(e.m_value=e.m_defaultValue),r.addEventListener("change",(function(t){let n=t.target.options.selectedIndex;e.m_value=l[n-1]})),this.m_readonly&&(r.readOnly=!0),r}}},6479:function(e){e.exports=function(){"use strict";var e=function(e){return Array.isArray(e)},t=function(e){return"function"==typeof e},n=function(e,t){return e&&i(t)&&e instanceof t},a=function(e){return"number"==typeof e},r=function(e,t){return void 0===t&&(t=!0),"object"==typeof e&&(!t||n(e,Object))},i=function(e){return function(e){return void 0!==e}(e)&&!function(e){return null===e}(e)},o=function(e){return"string"==typeof e},l=function t(n){if(e(n))return n.map((function(e){return t(n)}));if(r(n)){for(var a in n)n[a]=t(n[a]);return n}return!1===n?"false":null===n?"null":!0===n?"true":""+n},s=function(e){return e.toUpperCase()},c=function(e,t){return i(t[0])&&e<t[0]?t[0]:i(t[1])&&e>t[1]?t[1]:e},d=function(e,t){return void 0===t&&(t=10),t?parseInt(e,t):parseFloat(e)},u=function(e){return Object.keys(e)},p=function(e){return a(e)?Math.round(e):null},m=function(e,t){return void 0===t&&(t=10),a(e)?e.toString(t):""+e},f=function t(n){if(e(n))return n.map((function(e){return t(e)}));if(function(e){return/^-?(?:\d*.)?\d+$/.test(e+"")}(n))return d(n);if(r(n)){for(var a in n)n[a]=t(n[a]);return n}return"false"!==n&&("null"===n?null:"true"===n||n)},g=document,h=window,_=g.body,v=g.documentElement,E=function(e,t,n){if(void 0===n&&(n=!0),!C(e,t))return null;var a=e.getAttribute(t);return n?f(a):a},y=function(e,t,n){void 0===n&&(n=!0);var a=E(e,"data-"+t,n),r=(a+"").trim();return n&&r&&("["===r[0]&&"]"===r.slice(-1)||"{"===r[0]&&"}"===r.slice(-1))&&null!==(r=function(e){var t=null;try{t=JSON.parse(e)}catch(e){}return t}(a))?r:a},b=function(e){return e.parentNode||null},C=function(e,t){return e.hasAttribute(t)},S=function(e,t){return t in e},T=function(e,t){return e.removeAttribute(t),e},A=function(e,t,n){return!0===n&&(n=t),e.setAttribute(t,l(n)),e},D=function(e,t){return e.appendChild(t),t},w=function(t,n,a){return(e(a)||r(a))&&(i=a,a=JSON.stringify(i)),A(t,"data-"+n,a);var i},L=function(e,t,n){return e=o(e)?g.createElement(e):e,r(t)&&(n=t,t=!1),o(t)&&M(e,t),r(n)&&function(e,t){var n;for(var a in t)(n=t[a])||""===n||0===n?A(e,a,n):T(e,a)}(e,n),e},M=function(e,t,n){if(void 0===n&&(n=!0),null===t)return e;var a="innerHTML";return S(e,a)&&(e[a]=n?t.trim():t),e},R=function(e,t,n){return a(n)&&(n+="px"),e.style[(r=t,r.replace(/[-_.](\w)/g,(function(e,t){return s(t)})))]=l(n),e;var r},O=function(e,t,n){e.forEach((function(e){return function(e,t,n){t.removeEventListener(e,n)}(e,t,n)}))},I=function(e,t,n,a){void 0===a&&(a=!1),e.forEach((function(e){return function(e,t,n,a){if(void 0===a||!1===a){var r=!1;try{var i=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("testPassive",null,i),window.removeEventListener("testPassive",null,i)}catch(e){}a=!!r&&{passive:!0}}t.addEventListener(e,n,a)}(e,t,n,a)}))};var x=function(e,t){var n=e.touches,a=n?n[0].clientX:e.clientX,r=n?n[0].clientY:e.clientY;if(t){var i=N(t);return[a-i[0],r-i[1],i[0],i[1]]}return[a,r]},N=function(e){var t,n,a,r,i,o,l;return function(e){return e===h}(e)?(r=e.pageXOffset||v.scrollLeft||_.scrollLeft,i=e.pageYOffset||v.scrollTop||_.scrollTop,a=e.innerWidth,t=e.innerHeight):(r=(n=e.getBoundingClientRect()).left,i=n.top,a=n.width,t=n.height,o=n.right,l=n.bottom),[r,i,a,t,o,l]};let P="CP",k=h.setTimeout,B="HEX";function F(e,t){if(e===t)return e;for(;(e=e.parentElement)&&e!==t;);return e}function W(e){let t,n,a,r,o,l,s,c,d=+e[0],u=+e[1],m=+e[2];switch(r=Math.floor(6*d),o=6*d-r,l=m*(1-u),s=m*(1-o*u),c=m*(1-(1-o)*u),r=r||0,s=s||0,c=c||0,r%6){case 0:t=m,n=c,a=l;break;case 1:t=s,n=m,a=l;break;case 2:t=l,n=m,a=c;break;case 3:t=l,n=s,a=m;break;case 4:t=c,n=l,a=m;break;case 5:t=m,n=l,a=s}return[p(255*t),p(255*n),p(255*a),i(e[3])?+e[3]:1]}function q(e){let t,n,a=+e[0]/255,r=+e[1]/255,o=+e[2]/255,l=Math.max(a,r,o),s=Math.min(a,r,o),c=l,d=l-s;if(n=0===l?0:d/l,l===s)t=0;else{switch(l){case a:t=(r-o)/d+(r<o?6:0);break;case r:t=(o-a)/d+2;break;case o:t=(a-r)/d+4}t/=6}return[t,n,c,i(e[3])?+e[3]:1]}const H=["touchstart","mousedown"],U=["touchmove","mousemove"],Y=["orientationchange","resize"],V=["touchend","mouseup"];function G(e,a={}){if(g||(g=document),h||(h=window),_||(_=g.body),v||(v=g.documentElement),!e)return;const l=this;if(!n(l,G))return new G(e,a);if(e[P])return;let{fire:s,hooks:d}=function(e){var t={};return e.hooks=t,e.fire=function(n,a){return i(t[n])?(t[n].forEach((function(t){return t.apply(e,a)})),e):e},e.off=function(n,a){if(!i(n))return t={},e;if(i(t[n]))if(i(a)){for(var r=0,o=t[n].length;r<o;++r)if(a===t[n][r]){t[n].splice(r,1);break}0===j&&delete t[n]}else delete t[n];return e},e.on=function(n,a){return i(t[n])||(t[n]=[]),i(a)&&t[n].push(a),e},e}(l);function p(n){let r,o=G[t(G[a.color])?a.color:B];return(r=y(e,"color"))?i(n)?w(e,"color",o(n)):o(r):(r=function(e,t){return S(e,t)&&e[t]||null}(e,"value"))?i(n)?(l=e,s="value",c=o(n),l[s]=c,l):o(r):(r=function(e,t){void 0===t&&(t=!0);var n="textContent";if(!S(e,n))return!1;var a=e[n];return""!==(a=t?a.trim():a)?a:null}(e))?i(n)?function(e,t,n){if(void 0===n&&(n=!0),null===t)return e;var a="textContent";return S(e,a)&&(e[a]=n?t.trim():t),e}(e,o(n)):o(r):i(n)?void 0:[0,0,0,1];var l,s,c}var m;l.state=a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object.assign.apply(Object,[{}].concat(t))}(G.state,o(a)?{color:a}:a||{}),l.source=e,l.visible=!1,G.instances[e.id||e.name||(m=G.instances,function(e){return e.length}(u(m)))]=l,e[P]=1;let f,E,C,T,A=a.class,M=p(),K=q(M),z=L("div",{class:A}),$=L("div"),X=L("div",{class:A+":sv"}),J=L("div",{class:A+":h"}),Z=L("div",{class:A+":a"}),Q=L("div"),ee=L("div"),te=L("div"),ne=L("i"),ae=L("div"),re=L("i"),ie=L("div"),oe=L("div"),le=L("i"),se=0,ce=0,de=0,ue=0,pe=0,me=0;function fe(t){if(d.focus)s("focus",M);else{let n=t.target;e===F(n,e)?!b(z)&&f(a.parent):E()}}return D(z,$),D($,X),D($,J),D($,Z),D(X,Q),D(X,ee),D(X,te),D(X,ne),D(J,ae),D(J,re),D(Z,ie),D(Z,oe),D(Z,le),function n(o,u){function m(e){l.current=Z,de=me=1,A(e)}function y(e){l.current=J,ce=pe=1,A(e)}function S(e){l.current=X,se=ue=1,A(e)}function A(e){ue&&function(e){let t=x(e,X),n=c(t[0],[0,_e]),a=c(t[1],[0,ge]);K[1]=1-(_e-n)/_e,K[2]=(ge-a)/ge,w()}(e),pe&&function(e){K[0]=(Ee-c(x(e,J)[1],[0,Ee]))/Ee,w()}(e),me&&function(e){K[3]=(be-c(x(e,Z)[1],[0,be]))/be,w()}(e),M=W(K),(ue||pe||me)&&(s(se||ce||de?"start":"drag",M),s("change",M)),se=ce=de=0}function w(){!function(e){i(e[1])&&R(ne,"right",_e-ve/2-_e*+e[1]),i(e[2])&&R(ne,"top",ge-he/2-ge*+e[2]),i(e[0])&&R(re,"top",Ee-ye/2-Ee*+e[0]),i(e[3])&&R(le,"top",be-Ce/2-be*+e[3])}(K);let e=W(K),t=W([K[0],1,1]);R(Q,"background-color","rgb("+t[0]+","+t[1]+","+t[2]+")"),R(ie,"background-image","linear-gradient(rgb("+e[0]+","+e[1]+","+e[2]+"),transparent)")}function L(t){M=W(K);let n=t.target,a=e===F(n,e),r=z===F(n,z);l.current=null,a||r?r&&(ue||pe||me)&&s("stop",M):d.blur?s("blur",M):ue||pe||me||b(z)&&E(),ue=pe=me=0}K=q(M=p()),o||(D(u||a.parent||_,z),l.visible=!0),f=e=>(n(0,e),s("enter",M),l),E=()=>{return b(z)&&(b(e=z),e.remove(),l.current=null,l.visible=!1),O(H,X,S),O(H,J,y),O(H,Z,m),O(U,g,A),O(V,g,L),O(Y,h,T),s("exit",M);var e},C=t=>{let n=N(v),a=N(e),o=N(h),l=o[3]-v.clientHeight,d=o[2]-n[2],u=N(z),p=u[3],m=u[2],f=a[0]+o[0],g=a[1]+o[1]+a[3];if(r(t))i(t[0])&&(f=t[0]),i(t[1])&&(g=t[1]);else{let e=o[0],t=o[1],n=o[0]+o[2]-m-d,a=o[1]+o[3]-p-l;f=c(f,[e,n])>>0,g=c(g,[t,a])>>0}return R(z,"left",f),R(z,"top",g),s("fit",M)},T=()=>C();let j=N(X),$=N(ne),ee=N(J),te=N(re),ae=N(Z),oe=N(le),ge=j[3],he=$[3],_e=j[2],ve=$[2],Ee=ee[3],ye=te[3],be=ae[3],Ce=oe[3];o?(I(H,e,fe),k((()=>{s("change",M)}),1)):(I(H,X,S),I(H,J,y),I(H,Z,m),I(U,g,A),I(V,g,L),I(Y,h,T),C()),w(),l.color=(e,n,r,i)=>G[t(G[a.color])?a.color:B]([e,n,r,i]),l.current=null,l.enter=f,l.exit=E,l.fit=C,l.get=()=>p(),l.pop=()=>e[P]?(delete e[P],O(H,e,fe),E(),s("pop",M)):l,l.set=(e,t,n,a)=>(K=q([e,t,n,a]),w(),l),l.self=z,l.value=(e,t,n,a)=>(l.set(e,t,n,a),s("change",[e,t,n,a]))}(1),l}return G[B]=e=>{if(o(e)){let t=(e=e.trim()).length;if(4!==t&&7!==t||"#"!==e[0]){if((5===t||9===t)&&"#"===e[0]&&/^#([a-f\d]{3,4}){1,2}$/i.test(e))return 5===t?[d(e[1]+e[1],16),d(e[2]+e[2],16),d(e[3]+e[3],16),d(e[4]+e[4],16)/255]:[d(e[1]+e[2],16),d(e[3]+e[4],16),d(e[5]+e[6],16),d(e[7]+e[8],16)/255]}else if(/^#([a-f\d]{3}){1,2}$/i.test(e))return 4===t?[d(e[1]+e[1],16),d(e[2]+e[2],16),d(e[3]+e[3],16),1]:[d(e[1]+e[2],16),d(e[3]+e[4],16),d(e[5]+e[6],16),1];return[0,0,0,1]}return"#"+("000000"+m(+e[2]|+e[1]<<8|+e[0]<<16,16)).slice(-6)+(i(e[3])&&e[3]<1?m(p(255*e[3])+65536,16).substr(-2):"")},G.instances={},G.state={class:"color-picker",color:B,parent:null},G.version="2.2.0",G}()},707:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});var a=n(4006),r=n(6538);class i{static fontFamilyComboBox=[{text:"맑은 고딕",value:"MalgunGothic"},{text:"바탕체",value:"Batang"}];static dateFormatComboBox=[{text:"YYYY-MM-DD",value:"Y-m-d"},{text:"YYYY/MM/DD",value:"Y/m/d"},{text:"YYYY.MM.DD",value:"Y.m.d"}];static radioTypeList=[{text:"Type 1",value:a.t.RADIO_TYPE_1},{text:"Type 2",value:a.t.RADIO_TYPE_2}];static fontSizeComboBox=[];static signPenWidthComboBox=[];static userInfoOptionList=[];static userInfoOptionListCount=0;static dvFieldOptionList=[];static signTabShowOpt={};static locale="ko";static translator=new r.Z({filesLocation:"/js/pdf_form/i18n"});constructor(){}static isEmptyObject(e){return null==e||0===Object.keys(e).length}static closeSelect2Tag(e){e.querySelectorAll("li ."+a.t.EDITOR_ATTR_SELECT_CLASS).forEach((e=>{e.classList.contains("select2-hidden-accessible")&&$(e).select2("close")}))}static removeAllChildNode(e){if(null!==e)for(;e.firstChild;)e.lastChild.id===a.t.EDITOR_ATTR_PANEL_ID&&i.closeSelect2Tag(e.lastChild),e.removeChild(e.lastChild)}static createAttributePanelNode(){var e=document.createElement("ul");return e.className=a.t.EDITOR_ATTR_PANEL_CLASS,e.id=a.t.EDITOR_ATTR_PANEL_ID,e}static createAttributeInputNode(e,t,n,r,o,l,s){var c=document.createElement("li");c.className=a.t.EDITOR_ATTR_CONTENTS_ROW_CLASS;var d=document.createElement("div");d.className=a.t.TITLE_WRAP_CLASS;var u=document.createElement("span");u.className=a.t.TITLE_CLASS,u.textContent=i.translateForKey(n),u.setAttribute("data-i18n",n),d.appendChild(u);var p=document.createElement("input");return p.className=a.t.EDITOR_ATTR_INPUT_CLASS,p.setAttribute("data-field-id",e),p.setAttribute("data-field-property-name",t),""!==r&&(p.value=r),""!==o&&(p.type=o),p.addEventListener("change",s,!0),c.appendChild(d),c.appendChild(p),c}static createAttributeTextAreaNode(e,t,n,r,o,l){var s=document.createElement("li");s.className=a.t.EDITOR_ATTR_CONTENTS_ROW_CLASS;var c=document.createElement("div");c.className=a.t.TITLE_WRAP_CLASS;var d=document.createElement("span");d.className=a.t.TITLE_CLASS,d.textContent=i.translateForKey(n),c.appendChild(d);var u=document.createElement("textarea");return u.className=a.t.EDITOR_ATTR_TEXTAREA_CLASS,u.setAttribute("data-field-id",e),u.setAttribute("data-field-property-name",t),""!==r&&(u.value=r),""!==o&&(u.type=o),u.addEventListener("change",l,!0),s.appendChild(c),s.appendChild(u),s}static createAttributeCheckBoxNode(e,t,n,r,i){var o=document.createElement("li");o.className=a.t.EDITOR_ATTR_CONTENTS_ROW_CLASS;var l=document.createElement("input");l.type="text",l.className=a.t.EDITOR_ATTR_INPUT_CLASS,l.setAttribute("data-field-id",e),l.setAttribute("data-field-property-name",t),l.style.display="none",l.addEventListener("change",i,!0);var s=document.createElement("input");s.type="checkbox",s.id=t+"_chkbox",s.addEventListener("change",(function(e){s.checked?l.value="true":l.value="false",l.dispatchEvent(new Event("change"))})),"true"===r?(s.checked=!0,l.value="true"):(s.checked=!1,l.value="false");var c=document.createElement("p");c.className="Attribute-Contents-Row-CheckBox-Container",c.appendChild(s);var d=document.createElement("label");return d.htmlFor=t+"_chkbox",d.textContent=n,c.appendChild(d),o.appendChild(c),o.appendChild(l),o}static createAttributeDateInputNode(e,t,n,r,i,o){var l=document.createElement("li");l.className=a.t.EDITOR_ATTR_CONTENTS_ROW_CLASS;var s=document.createElement("div");s.className=a.t.TITLE_WRAP_CLASS;var c=document.createElement("span");c.className=a.t.TITLE_CLASS,c.textContent=n,s.appendChild(c);var d=document.createElement("input");d.className=a.t.EDITOR_ATTR_INPUT_CLASS,d.id=t+"_date-picker",d.style.display="none",d.setAttribute("data-field-id",e),d.setAttribute("data-field-property-name",t),""!==r&&(d.value=r);var u=document.createElement("input");return u.className=a.t.EDITOR_ATTR_DATE_INPUT_CLASS,""!==r&&(u.value=r),d.addEventListener("change",o,!0),l.appendChild(s),l.appendChild(d),l.appendChild(u),l}static createAttributeColorInputNode(e,t,n,r,i,o,l){var s=document.createElement("li");s.className=a.t.EDITOR_ATTR_CONTENTS_ROW_CLASS;var c=document.createElement("div");c.className=a.t.TITLE_WRAP_CLASS;var d=document.createElement("span");d.className=a.t.TITLE_CLASS,d.textContent=n,c.appendChild(d);var u=document.createElement("input");u.className=a.t.EDITOR_ATTR_INPUT_CLASS,u.setAttribute("data-field-id",e),u.setAttribute("data-field-property-name",t),""!==r&&(u.value=r),u.type="text",u.id=e+"_color",u.addEventListener("change",l,!0);var p=document.createElement("input");p.type="button";var m=document.createElement("div");return m.className=a.t.EDITOR_ATTR_INPUT_WRAP_CLASS,m.appendChild(u),m.appendChild(p),s.appendChild(c),s.appendChild(m),s}static createAttributeToggleButtonNode(e,t,n,r,o){var l=document.createElement("li");l.className=a.t.EDITOR_ATTR_CONTENTS_ROW_CLASS;var s=document.createElement("div");s.className=a.t.EDITOR_ATTR_ROW_WRAP_CLASS;var c=document.createElement("span");c.className=a.t.TITLE_CLASS,c.textContent=i.translateForKey(n),c.setAttribute("data-i18n",n),s.appendChild(c);var d=document.createElement("label");d.className=a.t.SWITCH_LABEL_CLASS;var u=document.createElement("input");u.type="text",u.setAttribute("data-field-id",e),u.setAttribute("data-field-property-name",t),u.style.display="none",u.addEventListener("change",o,!0);var p=document.createElement("input");p.type="checkbox",p.addEventListener("change",(function(e){p.checked?u.value=!0:u.value=!1,u.dispatchEvent(new Event("change"))})),"true"===r?(p.checked=!0,u.value="true"):(p.checked=!1,u.value="false");var m=document.createElement("span");return m.classList.add(a.t.SWITCH_LABEL_SLIDER_CLASS),m.classList.add(a.t.SWITCH_LABEL_SLIDER_ROUND_CLASS),d.appendChild(p),d.appendChild(m),s.appendChild(d),s.appendChild(u),l.appendChild(s),l}static createAttributeSelectInnerNode(e,t,n,r,o=!0){var l=document.createElement("div");if(l.className=a.t.EDITOR_ATTR_ROW_WRAP_CLASS,""!==r){var s=document.createElement("div");s.className=a.t.TITLE_WRAP_CLASS;var c=document.createElement("span");c.className=a.t.TITLE_CLASS,c.textContent=i.translateForKey(r),c.setAttribute("data-i18n",r),s.appendChild(c),l.appendChild(s)}var d=document.createElement("select");if(d.className=a.t.EDITOR_ATTR_SELECT_CLASS,o){var u=document.createElement("option");u.value="",u.text=i.translateForKey("Template.selectDefaultText"),u.setAttribute("data-i18n","Template.selectDefaultText"),d.appendChild(u)}for(var p=0;p<n.length;p++){var m=document.createElement("option");m.value=n[p].value,m.text=n[p].text,d.appendChild(m)}return d.setAttribute("data-field-id",e),d.setAttribute("data-field-property-name",t),l.appendChild(d),l}static createAttributeSelectNode(e,t,n,r,o=!0){var l=document.createElement("li");l.className=a.t.EDITOR_ATTR_CONTENTS_ROW_CLASS;var s=i.createAttributeSelectInnerNode(e,t,n,r,o);return l.appendChild(s),l}static createDividerNode(){var e=document.createElement("li");return e.className=a.t.DIVIDER_CLASS,e}static createTextAlignButtonNode(e,t,n){var r=document.createElement("div");r.className=a.t.EDITOR_ATTR_ROW_WRAP_CLASS;var o=document.createElement("div");o.className=a.t.TITLE_WRAP_CLASS;var l=document.createElement("span");l.className=a.t.TITLE_CLASS,l.textContent=i.translateForKey("Template.textAlignText"),l.setAttribute("data-i18n","Template.textAlignText"),o.appendChild(l),r.appendChild(o);var s=document.createElement("div"),c=document.createElement("button");c.classList.add("Template-Button"),c.classList.add("Text-Align-Left"),c.classList.add("Toggle-Button");var d=document.createElement("i");c.appendChild(d);var u=document.createElement("button");u.classList.add("Template-Button"),u.classList.add("Text-Align-Center"),u.classList.add("Toggle-Button");var p=document.createElement("i");u.appendChild(p);var m=document.createElement("button");m.classList.add("Template-Button"),m.classList.add("Text-Align-Right"),m.classList.add("Toggle-Button");var f=document.createElement("i");switch(m.appendChild(f),t){case"left":c.classList.add("Selected");break;case"center":u.classList.add("Selected");break;case"right":m.classList.add("Selected")}var g=document.createElement("input");return g.type="text",g.style.display="none",g.value=t,g.setAttribute("data-field-id",e),g.setAttribute("data-field-property-name","textAlign"),g.addEventListener("change",n),c.addEventListener("click",(function(e){g.value="left",g.dispatchEvent(new Event("change")),c.classList.contains("Selected")||c.classList.toggle("Selected"),m.classList.contains("Selected")&&m.classList.toggle("Selected"),u.classList.contains("Selected")&&u.classList.toggle("Selected")})),u.addEventListener("click",(function(e){g.value="center",g.dispatchEvent(new Event("change")),u.classList.contains("Selected")||u.classList.toggle("Selected"),m.classList.contains("Selected")&&m.classList.toggle("Selected"),c.classList.contains("Selected")&&c.classList.toggle("Selected")})),m.addEventListener("click",(function(e){g.value="right",g.dispatchEvent(new Event("change")),m.classList.contains("Selected")||m.classList.toggle("Selected"),c.classList.contains("Selected")&&c.classList.toggle("Selected"),u.classList.contains("Selected")&&u.classList.toggle("Selected")})),s.appendChild(c),s.appendChild(u),s.appendChild(m),s.appendChild(g),r.appendChild(s),r}static createTextBoldButtonNode(e,t,n){var r=document.createElement("div");r.className=a.t.EDITOR_ATTR_ROW_WRAP_CLASS;var o=document.createElement("div");o.className=a.t.TITLE_WRAP_CLASS;var l=document.createElement("span");l.className=a.t.TITLE_CLASS,l.textContent=i.translateForKey("Template.boldText"),l.setAttribute("data-i18n","Template.boldText"),o.appendChild(l),r.appendChild(o);var s=document.createElement("div"),c=document.createElement("button");c.classList.add("Template-Button"),c.classList.add("Text-Bold-Button"),c.classList.add("Toggle-Button");var d=document.createElement("i");c.appendChild(d),"true"===t&&c.classList.add("Selected");var u=document.createElement("input");return u.type="text",u.style.display="none",u.value=t,u.setAttribute("data-field-id",e),u.setAttribute("data-field-property-name","bold"),u.addEventListener("change",n),c.addEventListener("click",(function(e){c.classList.contains("Selected")?u.value="false":u.value="true",u.dispatchEvent(new Event("change")),c.classList.toggle("Selected")})),s.appendChild(c),s.appendChild(u),r.appendChild(s),r}static createTextColorButtonNode(e,t,n,r){var o=document.createElement("div");o.className=a.t.EDITOR_ATTR_ROW_WRAP_CLASS;var l=document.createElement("div");l.className=a.t.TITLE_WRAP_CLASS;var s=document.createElement("span");s.className=a.t.TITLE_CLASS,s.textContent=i.translateForKey(t),s.setAttribute("data-i18n",t),l.appendChild(s),o.appendChild(l);var c=document.createElement("div");c.className="Color-Button-Wrap";var d=document.createElement("button");d.classList.add("Template-Button"),d.classList.add("Color-Button");var u=document.createElement("input");return u.type="text",u.style.display="none",u.value=n,u.setAttribute("data-field-id",e),u.setAttribute("data-field-property-name","fontColor"),u.addEventListener("change",r),c.appendChild(d),c.appendChild(u),o.appendChild(c),o}static createTextAttrbuteNode(e,t,n,r,o){var l=document.createElement("li");l.className=a.t.EDITOR_ATTR_CONTENTS_ROW_CLASS;var s=document.createElement("div");s.className=a.t.EDITOR_ATTR_ROW_WRAP_CLASS;var c=document.createElement("table");c.style.width="100%";var d=document.createElement("tr"),u=document.createElement("td");u.style.paddingRight="10px",u.colSpan=4;var p=i.createAttributeSelectInnerNode(e,"fontName",i.fontFamilyComboBox,"Template.fontNameText",!1);u.appendChild(p),d.appendChild(u);var m=document.createElement("td");m.colSpan=4;var f=i.createAttributeSelectInnerNode(e,"fontSize",i.getFonSizeComboBox(),"Template.fontSizeText",!1);m.appendChild(f),d.appendChild(m),c.appendChild(d);var g=document.createElement("tr"),h=document.createElement("td");h.style.paddingRight="10px",h.style.paddingTop="20px",h.colSpan=4,g.appendChild(h);var _=i.createTextAlignButtonNode(e,n,o);h.appendChild(_);var v=document.createElement("td");v.style.paddingRight="10px",v.style.paddingTop="20px",v.colSpan=2;var E=i.createTextBoldButtonNode(e,r,o);v.appendChild(E),g.appendChild(v);var y=document.createElement("td");y.style.paddingRight="10px",y.style.paddingTop="20px",y.colSpan=2;var b=i.createTextColorButtonNode(e,"Template.colorText",t,o);return y.appendChild(b),g.appendChild(y),c.appendChild(g),s.appendChild(c),l.appendChild(s),{row:l,fontFamilyCombo:p,fontSizeCombo:f,colorBtn:b}}static createTextMemoAttrbuteNode(e,t,n,r,o){let l=document.createElement("li");l.className=a.t.EDITOR_ATTR_CONTENTS_ROW_CLASS;let s=document.createElement("div");s.className=a.t.EDITOR_ATTR_ROW_WRAP_CLASS;let c=document.createElement("table");c.style.width="100%";let d=document.createElement("tr"),u=document.createElement("td");u.style.paddingRight="10px",u.colSpan=4;let p=i.createAttributeSelectInnerNode(e,"fontName",i.fontFamilyComboBox,"Template.fontNameText",!1);u.appendChild(p),d.appendChild(u);let m=document.createElement("td");m.colSpan=4;let f=i.createAttributeSelectInnerNode(e,"fontSize",i.getFonSizeComboBox(),"Template.fontSizeText",!1);m.appendChild(f),d.appendChild(m),c.appendChild(d);let g=document.createElement("tr"),h=document.createElement("td");h.style.paddingRight="10px",h.style.paddingTop="20px",h.colSpan=2;let _=i.createTextBoldButtonNode(e,n,o);h.appendChild(_),g.appendChild(h);let v=document.createElement("td");v.style.paddingRight="10px",v.style.paddingTop="20px",v.colSpan=2;let E=i.createTextColorButtonNode(e,"Template.colorText",t,o);v.appendChild(E),g.appendChild(v);let y=document.createElement("td");y.style.paddingRight="10px",y.style.paddingTop="20px",y.colSpan=2;let b=i.createTextColorButtonNode(e,"Template.bgColorText",r,o);return y.appendChild(b),g.appendChild(y),c.appendChild(g),s.appendChild(c),l.appendChild(s),{row:l,fontFamilyCombo:p,fontSizeCombo:f,boldBtn:_,colorBtn:E,backgroundColorBtn:b}}static assign(e,t,n){if("string"==typeof t&&(t=t.split(".")),t.length>1){var a=t.shift();assign(e[a]="[object Object]"===Object.prototype.toString.call(e[a])?e[a]:{},t,n)}else e[t[0]]=n}static fieldAncestors(e){switch(!0){case void 0===e:return;case null===e:return[];default:return[e,...i.fieldAncestors(Object.getPrototypeOf(e))]}}static findSameAncestor(e){var t=i.fieldAncestors(e[0]),n=t[0];if(1===e.length)return n;for(var a=1;a<e.length;a++){var r=i.fieldAncestors(e[a]);if(1===r.length)return r[0];var o=0,l=1;const p=i.fieldAncestors(n);p.length>=r.length&&(o=p.length-r.length);for(var s=o;s<r.length;s++){for(var c=r[s],d=!1,u=l;u<t.length;u++)if(Object.getPrototypeOf(c)==Object.getPrototypeOf(t[u])){if(n=t[u+1],2===i.fieldAncestors(n).length)return n;d=!0,l=u+1;break}if(d)break}}return n}static findSameAncestor2(e){if(1===e.length)return e[0];const t=e[0].ancestors();let n=t[0];for(let a=1;a<e.length;++a){if("BF"===n)return n;const r=e[a].ancestors();if(!r.includes(n))for(let e=1;e<t.length;++e)if(r.includes(t[e])){n=t[e];break}}return n}static getUserInfoOptsList(){return i.userInfoOptionList}static setUserInfoOptsList(e){i.userInfoOptionList=e}static getUserInfoOptsListCount(){return i.userInfoOptionListCount}static setUserInfoOptsListCount(e){i.userInfoOptionListCount=e}static getDVFieldOptsList(){return i.dvFieldOptionList}static setDVFieldOptsList(e){i.dvFieldOptionList=e}static getSignTabShowOpt(){return i.signTabShowOpt}static setSignTabShowOpt(e){i.signTabShowOpt=e}static getFonSizeComboBox(){if(i.fontSizeComboBox.length>0)return i.fontSizeComboBox;for(var e=1;e<=50;e++)i.fontSizeComboBox.push({text:e+"px",value:e});return i.fontSizeComboBox}static getSignPenWidthComboBox(){if(i.signPenWidthComboBox.length>0)return i.signPenWidthComboBox;for(var e=1;e<=20;e+=1)i.signPenWidthComboBox.push({text:e,value:e});return i.signPenWidthComboBox}static createAttrbutePopup(e,t){let n=e.querySelector(" ."+a.t.EDITOR_ATTR_CLASS);return null===n?(n=document.createElement("div"),n.classList.add(a.t.EDITOR_ATTR_CLASS),n.classList.add(a.t.SHOW_CLASS),e.querySelector(" #"+a.t.TEMPLATE_PDF_VIEWER).appendChild(n)):i.removeAllChildNode(n),n.classList.contains(a.t.SHOW_CLASS)||n.classList.add(a.t.SHOW_CLASS),n.style.display="block",null!=t&&(n.style.left=t.x+"px",n.style.top=t.y+t.height+10+"px"),n}static showAsteriskDiv(e,t,n,r,i,o){let l=e.querySelector(" #"+t+"_asterisk");if(null!==l){if(n){if(null===r||null===i||null===o||void 0===r||void 0===i||void 0===o)return;let e=a.t.ASTREISK_DIV_HEIGHT;l.style.left=r-6-e+"px";let t=i+o/2-e/2;return l.style.top=t+"px",l.classList.contains(a.t.SHOW_CLASS)||l.classList.toggle(a.t.SHOW_CLASS),void(l.classList.contains(a.t.HIDE_CLASS)&&l.classList.toggle(a.t.HIDE_CLASS))}l.classList.contains(a.t.SHOW_CLASS)&&l.classList.toggle(a.t.SHOW_CLASS),l.classList.contains(a.t.HIDE_CLASS)||l.classList.toggle(a.t.HIDE_CLASS)}}static createAsteriskDiv(e,t){let n=e.querySelector(" #"+t+"_asterisk");return null===n&&(n=document.createElement("div"),n.classList.add(a.t.ASTERISK_ICON_CLASS),n.style.position="absolute",n.style.width="11px",n.style.height="12px",e.querySelector(" #"+a.t.TEMPLATE_LAYER_ASTERISK_NAME).appendChild(n)),n}static isShowAsteriskDiv(e,t){let n=e.querySelector(" #"+t+"_asterisk");return!(null===n||!n.classList.contains(a.t.SHOW_CLASS)&&(n.classList.contains(a.t.HIDE_CLASS),1))}static createFieldDeleteBtn(e,t){let n=e.querySelector(" ."+a.t.FIELD_DELETE_BUTTON_CLASS);return null===n&&(n=document.createElement("div"),n.classList.add(a.t.FIELD_DELETE_BUTTON_CLASS),n.classList.add(a.t.SHOW_CLASS),e.querySelector(" #"+a.t.TEMPLATE_PDF_VIEWER).appendChild(n)),n.classList.contains(a.t.SHOW_CLASS)||n.classList.add(a.t.SHOW_CLASS),n.classList.contains(a.t.HIDE_CLASS)&&n.classList.toggle(a.t.HIDE_CLASS),n.addEventListener("click",t),n}static repositionFieldDeleteBtn(e,t,n,r){let i=e.querySelector(" ."+a.t.FIELD_DELETE_BUTTON_CLASS);null!==i?(i.classList.contains(a.t.HIDE_CLASS)&&i.classList.toggle(a.t.HIDE_CLASS),i.style.left=t+r+10+"px",i.style.top=n+10+"px"):console.log("deleteBtnDiv empty")}static addSignSvgToCanvas(e,t,n,a,r){let i=t;null==t&&(i=e.m_id+"_canvas");let o=new fabric.StaticCanvas(i,{isDrawingMode:!1});return o.setHeight(a),o.setWidth(n),fabric.loadSVGFromString(r,(function(e,t){var n=fabric.util.groupSVGElements(e,t);let a=o.width/n.width,r=o.height/n.height;const i=a>r?r:a;if(n.scale(i),n.strokeWidth=n.strokeWidth/i,null!==n._objects&&void 0!==n._objects){let e=n._objects;for(var l=0;l<e.length;++l)e[l].strokeWidth=e[l].strokeWidth/i}o.add(n).centerObject(n).renderAll(),n.setCoords()}),null,{crossOrigin:"anonymous"}),o}static addObjectsToCanvas(e,t,n,a,r,i,o,l){let s=n;if(null==n){let n=t.m_id+"_canvas";s=e.querySelector("#"+n)}let c=new fabric.StaticCanvas(s,{isDrawingMode:!1});c.setHeight(r),c.setWidth(a);let d=c.width/o,u=c.height/l;const p=d>u?u:d;return fabric.util.enlivenObjects(i,(function(e){var t=c.renderOnAddRemove;c.renderOnAddRemove=!1;let n=!0;if(e.length>1&&(n=!1),e.forEach((function(e){let t=e.left*p,a=e.top*p;n&&(t=(c.width-e.width*p)/2,a=(c.height-e.height*p)/2),e.set({left:t,top:a,scaleY:p,scaleX:p,strokeWidth:e.strokeWidth/p}),c.add(e)})),c.renderOnAddRemove=t,c.renderAll(),c.calcOffset(),e.length>1){e=c.getObjects();var a=new fabric.Group(e,{});a.set({left:(c.width-a.width)/2,top:(c.height-a.height)/2}),a.setCoords(),c.renderAll()}})),c}static cloneObject(e){var t={};for(var n in e)"object"==typeof e[n]&&null!=e[n]?Array.isArray(e[n])?t[n]=[...e[n]]:t[n]=i.cloneObject(e[n]):t[n]=e[n];return t}static cloneObjectToObject(e,t){for(var n in e)"pages"!==n&&"fields"!==n&&("object"==typeof e[n]&&null!=e[n]?t[n]=i.cloneObject(e[n]):t[n]=e[n]);return t}static cloneFabricCanvas(e,t){fabric.util.enlivenObjects(t,(function(t){var n=e.renderOnAddRemove;e.renderOnAddRemove=!1,t.forEach((function(t){e.add(t)})),e.renderOnAddRemove=n,e.renderAll(),e.calcOffset()}))}static isStringEmpty(e){return null===e||""===e||void 0===e}static mergeRect(e,t){return{left:Math.min(e.left,t.left),top:Math.min(e.top,t.top),right:Math.max(e.right,t.right),bottom:Math.max(e.bottom,t.bottom),x:Math.min(e.left,t.left),y:Math.min(e.top,t.top),width:Math.abs(Math.max(e.right,t.right)-Math.min(e.left,t.left)),height:Math.abs(Math.max(e.bottom,t.bottom)-Math.min(e.top,t.top))}}static boundingRectToRect(e){return{left:e.left,top:e.top,right:e.left+e.width,bottom:e.top+e.height}}static mergeObjectsRect(e){let t=null;return e.forEachObject((function(e){var n=e.getBoundingRect();t=null===t?i.mergeRect(i.boundingRectToRect(n),i.boundingRectToRect(n)):i.mergeRect(t,i.boundingRectToRect(n))})),t}static mergeFieldsBBox(e){let t=null;for(var n=0;n<e.length;n+=1){let a=e[n].getBBox();t=null===t?i.mergeRect(i.boundingRectToRect(a),i.boundingRectToRect(a)):i.mergeRect(t,i.boundingRectToRect(a))}return t}static imageFileToBase64(e,t){if(null==e)return null;if(!e.type.startsWith("image/"))return null;var n=new FileReader;n.readAsDataURL(e),n.onload=function(){t(n.result)},n.onerror=function(e){console.log("Error: ",e)}}static changeLocale(e){i.locale=e,i.translator.translatePageTo(e)}static translateForKey(e){return i.translator.translateForKey(e,i.locale)}static translatorFileLocation(e){i.translator.config.filesLocation=e}static addTranslator(e,t){i.translator.add(e,t)}static appendFontFamily(e){i.fontFamilyComboBox=i.fontFamilyComboBox.concat(e)}static generate_uuidv4(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}}}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.loaded=!0,n.exports}__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__={};return(()=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{addTranslator:()=>U,annotationModChange:()=>ne,changeReaderMode:()=>ae,changeTemplateLocale:()=>H,changeTranslatorFileLocation:()=>Y,getJsonData:()=>j,initDocument:()=>B,isRequiredFieldValueEmpty:()=>W,loadDocument:()=>F,setCustomAlert:()=>q});var e=__webpack_require__(4006),t=__webpack_require__(707),n=__webpack_require__(5212),a=__webpack_require__(961),r="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==__webpack_require__.g&&__webpack_require__.g||{},i="URLSearchParams"in r,o="Symbol"in r&&"iterator"in Symbol,l="FileReader"in r&&"Blob"in r&&function(){try{return new Blob,!0}catch(e){return!1}}(),s="FormData"in r,c="ArrayBuffer"in r;if(c)var d=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(e){return e&&d.indexOf(Object.prototype.toString.call(e))>-1};function p(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function m(e){return"string"!=typeof e&&(e=String(e)),e}function f(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return o&&(t[Symbol.iterator]=function(){return t}),t}function g(e){this.map={},e instanceof g?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){if(2!=e.length)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+e.length);this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function h(e){if(!e._noBody)return e.bodyUsed?Promise.reject(new TypeError("Already read")):void(e.bodyUsed=!0)}function _(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function v(e){var t=new FileReader,n=_(t);return t.readAsArrayBuffer(e),n}function E(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(e){var t;this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:l&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:s&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:i&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():c&&l&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=E(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c&&(ArrayBuffer.prototype.isPrototypeOf(e)||u(e))?this._bodyArrayBuffer=E(e):this._bodyText=e=Object.prototype.toString.call(e):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},l&&(this.blob=function(){var e=h(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer)return h(this)||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer));if(l)return this.blob().then(v);throw new Error("could not read as ArrayBuffer")},this.text=function(){var e,t,n,a,r,i=h(this);if(i)return i;if(this._bodyBlob)return e=this._bodyBlob,n=_(t=new FileReader),r=(a=/charset=([A-Za-z0-9_-]+)/.exec(e.type))?a[1]:"utf-8",t.readAsText(e,r),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),a=0;a<t.length;a++)n[a]=String.fromCharCode(t[a]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},s&&(this.formData=function(){return this.text().then(S)}),this.json=function(){return this.text().then(JSON.parse)},this}g.prototype.append=function(e,t){e=p(e),t=m(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},g.prototype.delete=function(e){delete this.map[p(e)]},g.prototype.get=function(e){return e=p(e),this.has(e)?this.map[e]:null},g.prototype.has=function(e){return this.map.hasOwnProperty(p(e))},g.prototype.set=function(e,t){this.map[p(e)]=m(t)},g.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},g.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),f(e)},g.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),f(e)},g.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),f(e)},o&&(g.prototype[Symbol.iterator]=g.prototype.entries);var b=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function C(e,t){if(!(this instanceof C))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n,a,i=(t=t||{}).body;if(e instanceof C){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new g(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new g(t.headers)),this.method=(a=(n=t.method||this.method||"GET").toUpperCase(),b.indexOf(a)>-1?a:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal||function(){if("AbortController"in r)return(new AbortController).signal}(),this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(i),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==t.cache&&"no-cache"!==t.cache)){var o=/([?&])_=[^&]*/;o.test(this.url)?this.url=this.url.replace(o,"$1_="+(new Date).getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}function S(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),a=n.shift().replace(/\+/g," "),r=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(a),decodeURIComponent(r))}})),t}function T(e,t){if(!(this instanceof T))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new g(t.headers),this.url=t.url||"",this._initBody(e)}C.prototype.clone=function(){return new C(this,{body:this._bodyInit})},y.call(C.prototype),y.call(T.prototype),T.prototype.clone=function(){return new T(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new g(this.headers),url:this.url})},T.error=function(){var e=new T(null,{status:200,statusText:""});return e.status=0,e.type="error",e};var A=[301,302,303,307,308];T.redirect=function(e,t){if(-1===A.indexOf(t))throw new RangeError("Invalid status code");return new T(null,{status:t,headers:{location:e}})};var D=r.DOMException;try{new D}catch(e){(D=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack}).prototype=Object.create(Error.prototype),D.prototype.constructor=D}function w(e,t){return new Promise((function(n,a){var i=new C(e,t);if(i.signal&&i.signal.aborted)return a(new D("Aborted","AbortError"));var o=new XMLHttpRequest;function s(){o.abort()}if(o.onload=function(){var e,t,a={statusText:o.statusText,headers:(e=o.getAllResponseHeaders()||"",t=new g,e.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e})).forEach((function(e){var n=e.split(":"),a=n.shift().trim();if(a){var r=n.join(":").trim();try{t.append(a,r)}catch(e){console.warn("Response "+e.message)}}})),t)};i.url.startsWith("file://")&&(o.status<200||o.status>599)?a.status=200:a.status=o.status,a.url="responseURL"in o?o.responseURL:a.headers.get("X-Request-URL");var r="response"in o?o.response:o.responseText;setTimeout((function(){n(new T(r,a))}),0)},o.onerror=function(){setTimeout((function(){a(new TypeError("Network request failed"))}),0)},o.ontimeout=function(){setTimeout((function(){a(new TypeError("Network request timed out"))}),0)},o.onabort=function(){setTimeout((function(){a(new D("Aborted","AbortError"))}),0)},o.open(i.method,function(e){try{return""===e&&r.location.href?r.location.href:e}catch(t){return e}}(i.url),!0),"include"===i.credentials?o.withCredentials=!0:"omit"===i.credentials&&(o.withCredentials=!1),"responseType"in o&&(l?o.responseType="blob":c&&(o.responseType="arraybuffer")),t&&"object"==typeof t.headers&&!(t.headers instanceof g||r.Headers&&t.headers instanceof r.Headers)){var d=[];Object.getOwnPropertyNames(t.headers).forEach((function(e){d.push(p(e)),o.setRequestHeader(e,m(t.headers[e]))})),i.headers.forEach((function(e,t){-1===d.indexOf(t)&&o.setRequestHeader(t,e)}))}else i.headers.forEach((function(e,t){o.setRequestHeader(t,e)}));i.signal&&(i.signal.addEventListener("abort",s),o.onreadystatechange=function(){4===o.readyState&&i.signal.removeEventListener("abort",s)}),o.send(void 0===i._bodyInit?null:i._bodyInit)}))}w.polyfill=!0,r.fetch||(r.fetch=w,r.Headers=g,r.Request=C,r.Response=T);var L,M,R,O,I,x,N=__webpack_require__(6479),P=__webpack_require__.n(N);class k{pdfViewer;templateData;signCanvas=null;textSignCanvas=null;pagesInfo={};readerOwnerNode="";registeredSignDatas=null;customAlertFunc=null;readerMode=0;imgJsonFileUrl="";constructor(e,t){this.pdfViewer=e,L=this,this.readerOwnerNode=t}pageRender(t){const n=t.pageNumber;let a=L.readerOwnerNode.querySelector(" [data-page-number='"+n+"']");if(Object.keys(L.pagesInfo).length<=0)return;L.hideMemoProperties();let r=L.pagesInfo[n-1];const i=L.pdfViewer._pages[n-1].viewport;r.createField(a,i,L.readerMode,L.deleteBtnClickEventListener,L.memoPropertyBtnClickEventListener),L.readerMode===e.t.READER_FIELD_MEMO_MAKE_MODE&&(a.querySelector("."+e.t.READER_PAGE_MEMO_LAYER_CLASS).removeEventListener("mouseup",L.templateMouseUpEvent),a.querySelector("."+e.t.READER_PAGE_MEMO_LAYER_CLASS).addEventListener("mouseup",L.templateMouseUpEvent))}pageRefresh(){const t=Object.keys(L.pagesInfo);t.length<=0||(L.hideMemoProperties(),t.forEach((t=>{let n=parseInt(t)+1,a=L.readerOwnerNode.querySelector(" [data-page-number='"+n+"']");if("true"===a.getAttribute("data-loaded")){let n=L.pagesInfo[t];const r=L.pdfViewer._pages[t].viewport;n.createField(a,r,L.readerMode,L.deleteBtnClickEventListener,L.memoPropertyBtnClickEventListener),L.readerMode===e.t.READER_FIELD_MEMO_MAKE_MODE&&(a.querySelector("."+e.t.READER_PAGE_MEMO_LAYER_CLASS).removeEventListener("mouseup",L.templateMouseUpEvent),a.querySelector("."+e.t.READER_PAGE_MEMO_LAYER_CLASS).addEventListener("mouseup",L.templateMouseUpEvent))}})))}loadJsonData(e){if(null===e)return;L.templateData=e;let n=t.c.cloneObject(L.templateData.formerList[0]);L.templateData.formerList[0].pages.forEach((e=>{var t=new a.X(e.pageNo,n,L.readerOwnerNode,L.customAlertFunc,!1,L.signCanvas);e.fields.forEach((e=>{t.pushField(e.m_id,e)})),null!==e.memos&&void 0!==e.memos&&e.memos.forEach((e=>{t.pushMemo(e.m_id,e)})),L.pagesInfo[e.pageNo]=t}))}loadJsonDataWithUserInfo(e,n,r){L.templateData=e;let i=t.c.cloneObject(n);L.templateData.formerList[r].pages.forEach((e=>{var t=new a.X(e.pageNo,i,L.readerOwnerNode,L.customAlertFunc,!0,L.signCanvas);e.fields.forEach((e=>{t.pushField(e.m_id,e)})),void 0===L.pagesInfo[e.pageNo]&&null===L.pagesInfo[e.pageNo]||delete L.pagesInfo[e.pageNo],L.pagesInfo[e.pageNo]=t}))}readerInit(){if(null===L.signCanvas){let e=L.readerOwnerNode.querySelector("#drawComponent");L.signCanvas=new fabric.Canvas(e,{isDrawingMode:!0})}else L.signCanvas.clear();if(null===L.textSignCanvas){let e=L.readerOwnerNode.querySelector(" #textSignCanvas .canvas_wrap canvas");L.textSignCanvas=new fabric.StaticCanvas(e,{})}else L.textSignCanvas.clear();L.readerOwnerNode.querySelector(" #drawTypeInitButton").addEventListener("click",L.signRevert),L.readerOwnerNode.querySelector(" #cancelButton").addEventListener("click",L.closeSignPopup),L.readerOwnerNode.querySelector(" #drawRegistButton").addEventListener("click",L.saveSignPopupData),L.readerOwnerNode.querySelector(" #signElement").addEventListener("change",L.signPopupInitEvt),L.readerOwnerNode.querySelector(" #stampFileInput").addEventListener("change",L.stampImageSelected),L.readerOwnerNode.querySelector(" .corner_point_area .txt_guide").addEventListener("click",L.stampFileSelect),L.readerOwnerNode.querySelectorAll(" .Sign-Popup > .Sign-Layerpop .Popup-Body .Popup-Tab-Main > li").forEach((e=>{t.c.isEmptyObject(e.onclick)&&e.addEventListener("click",L.signPopupTabClick,!0)}))}async loadRegisteredSignData(){let e=L.readerOwnerNode.querySelector(" .Sign-Layerpop .Tab-Contents .Sign-Area .registeredSignWrap ul.signTypeList");if(e.getAttribute("clonekey"),L.readerOwnerNode.querySelector(" #signElement").querySelector(".Sign-Layerpop"),void 0===L.imgJsonFileUrl||null===L.imgJsonFileUrl||!1===L.imgJsonFileUrl)return;let t=L.imgJsonFileUrl;if(Array.isArray(t)){console.log("[등록된 이미지] URL 배열.");let a=L.convertUrlsToJson(t);L.registeredSignDatas=a;for(var n=0;n<a.length;++n){let t=document.createElement("li"),r=document.createElement("div");r.className="canvas_wrap";let i=document.createElement("img"),o=a[n];await L.convertImageToBase64(o.img_src).then((function(e){o.img_src=e})).catch((function(e){console.error("Error:",e)})),i.src=o.img_src,i.addEventListener("click",(function(t){let n=e.querySelectorAll("li");for(var a=0;a<n.length;++a){let e=n.item(a);e.classList.contains("on")&&e.classList.toggle("on")}t.target.closest("li").classList.toggle("on")})),r.setAttribute("registeredIdx",n),r.setAttribute("registeredImgType","URL"),r.appendChild(i),t.appendChild(r),e.appendChild(t)}}else console.log("[등록된 이미지] Json 파일 경로"),fetch(t).then((e=>e.json())).then((t=>{L.registeredSignDatas=t;for(var n=0;n<t.length;++n){let a=document.createElement("li"),r=document.createElement("div");r.className="canvas_wrap";let i=document.createElement("img"),o=t[n];if("SVG"===o.img_type){let e=new Blob([o.img_src],{type:"image/svg+xml"});i.src=URL.createObjectURL(e)}else i.src=o.img_src;i.addEventListener("click",(function(t){let n=e.querySelectorAll("li");for(var a=0;a<n.length;++a){let e=n.item(a);e.classList.contains("on")&&e.classList.toggle("on")}t.target.closest("li").classList.toggle("on")})),r.setAttribute("registeredIdx",n),r.setAttribute("registeredImgType",o.img_type),r.appendChild(i),a.appendChild(r),e.appendChild(a)}})).catch((e=>{console.error("에러 발생:",e)}))}signPopupTabClick(e){const n=e.target.closest("li").id;L.readerOwnerNode.querySelectorAll(" .Sign-Popup > .Sign-Layerpop .Popup-Body .Popup-Tab-Main > li").forEach((e=>{if(t.c.isEmptyObject(e.onclick))if(e.id===n){e.classList.contains("on")||e.classList.toggle("on");const t=n.replace("Button","");"registeredSignTab"===t&&L.registeredSignDatas,L.readerOwnerNode.querySelectorAll(" .Sign-Popup > .Sign-Layerpop .Popup-Body .Sign-Tab-Container > .Tab-Contents").forEach((e=>{e.getAttribute("data-tab-name")===t?e.classList.contains("Template-Hide")&&e.classList.toggle("Template-Hide"):e.classList.contains("Template-Hide")||e.classList.toggle("Template-Hide")}))}else e.classList.contains("on")&&e.classList.toggle("on")}))}signPopupInitEvt(e){switch(L.readerOwnerNode.querySelector(" #signElement").querySelector(".Sign-Tab-Container .Popup-Tab-Main li.on").id){case"signDrawTabButton":{let e=L.readerOwnerNode.querySelector(".Sign-Area.Draw-Area").getBoundingClientRect();e.width<500?L.signCanvas.setDimensions({width:e.width,height:e.height}):L.signCanvas.setDimensions({width:500,height:335}),L.signCanvas.clear()}case"signTextTabButton":{let e=L.readerOwnerNode.querySelector(" .Sign-Layerpop .Tab-Contents .Sign-Area .signTxtWrap ul.signTypeList");t.c.removeAllChildNode(e)}case"stampSignTabButton":L.readerOwnerNode.querySelector(" #stampImageTag").src="",L.readerOwnerNode.querySelector(" #stampFileInput").select(),L.readerOwnerNode.querySelector(" #stampFileInput").value="";case"registeredSignArea":L.clearSignTypeList(),L.loadRegisteredSignData()}}signRevert(){switch(L.readerOwnerNode.querySelector(" #signElement").querySelector(".Sign-Tab-Container .Popup-Tab-Main li.on").id){case"signDrawTabButton":L.signCanvas.clear();case"signTextTabButton":{let e=L.readerOwnerNode.querySelector(" .Sign-Layerpop .Tab-Contents .Sign-Area .signTxtWrap ul.signTypeList");t.c.removeAllChildNode(e)}case"stampSignTabButton":L.readerOwnerNode.querySelector(" #stampImageTag").src="",L.readerOwnerNode.querySelector(" #stampFileInput").value="";case"registeredSignTabButton":{let t=L.readerOwnerNode.querySelectorAll(" .Sign-Layerpop .Tab-Contents .Sign-Area .registeredSignWrap ul.signTypeList li");for(var e=0;e<t.length;++e){let n=t.item(e);n.classList.contains("on")&&n.classList.toggle("on")}}}}closeSignPopup(){let e=L.readerOwnerNode.querySelector(" #signElement");e.classList.contains("Template-Hide")||e.classList.toggle("Template-Hide")}cloneSignData(e){Object.keys(L.pagesInfo).forEach((t=>{Object.keys(L.pagesInfo[t].fields).forEach((n=>{let a=L.pagesInfo[t].fields[n];n!==e.m_id&&"SignField"===a.m_type&&(a.m_value=e.m_value,a.signType=e.signType,a.m_orgSignWidth=e.m_orgSignWidth,a.m_orgSignHeight=e.m_orgSignHeight,a.m_stpNo=e.m_stpNo,"path"!==a.signType&&"textPath"!==a.signType||(a.m_orgSignLeft=e.m_orgSignLeft,a.m_orgSignTop=e.m_orgSignTop,a.m_svgData=e.m_svgData))}))}))}async saveSignPopupData(){const e=L.readerOwnerNode.querySelector(" #signElement"),n=e.querySelector(".Sign-Layerpop"),a=n.getAttribute("fieldId"),r=n.getAttribute("pageNo"),i=n.getAttribute("signWidth"),o=n.getAttribute("signHeight");let l=L.pagesInfo[r-1].getField(a);switch(e.querySelector(".Sign-Tab-Container .Popup-Tab-Main li.on").id){case"signDrawTabButton":{l.m_svgData=btoa(unescape(L.signCanvas.toSVG())),l.m_value=JSON.stringify(L.signCanvas),l.signType="path";let e=t.c.mergeObjectsRect(L.signCanvas);if(null==e)return l.m_svgData="",l.m_value="",l.signType="",void alert('입력된 "싸인"이 없습니다.');l.m_orgSignWidth=Math.abs(e.right-e.left),l.m_orgSignHeight=Math.abs(e.bottom-e.top),l.m_orgSignLeft=e.left,l.m_orgSignTop=e.top,l.m_stpNo="",L.pageRefresh();break}case"signTextTabButton":{l.m_svgData=btoa(unescape(L.textSignCanvas.toSVG())),l.m_value=JSON.stringify(L.textSignCanvas),l.signType="textPath";let e=L.readerOwnerNode.querySelector(" .signTxtWrap > ul.signTypeList > li.on").querySelector(".canvas_wrap");l.m_orgSignWidth=e.getAttribute("pathWidth"),l.m_orgSignHeight=e.getAttribute("pathHeight"),l.m_orgSignLeft=e.getAttribute("pathLeft"),l.m_orgSignTop=e.getAttribute("pathTop"),l.m_stpNo="",L.pageRefresh();break}case"stampSignTabButton":{let e=L.readerOwnerNode.querySelector(" #stampImageTag");if(""==e.getAttribute("src"))return l.m_value="",void alert('선택된 "이미지"가 없습니다.');l.m_value=e.src;let t=new fabric.Image(e);l.signType="image",l.m_orgSignWidth=t.width,l.m_orgSignHeight=t.height,l.m_stpNo="",L.pageRefresh();break}case"registeredSignTabButton":{let e=L.readerOwnerNode.querySelector(" .Sign-Layerpop                                                                                     .Tab-Contents                                                                                     .Sign-Area                                                                                     .registeredSignWrap                                                                                     ul.signTypeList li.on");if(null==e)return l.m_value="",void alert('선택된 "등록된 이미지"가 없습니다.');let n=e.querySelector(".canvas_wrap"),a=n.getAttribute("registeredIdx"),r=L.registeredSignDatas[a];if("IMG"===r.img_type){let e=n.querySelector("img");l.m_value=r.img_src;let t=new fabric.Image(e);l.signType="image",l.m_orgSignWidth=t.width,l.m_orgSignHeight=t.height}else if("SVG"===r.img_type){let e=t.c.addSignSvgToCanvas(l,null,i,o,r.img_src);l.m_svgData=btoa(unescape(e.toSVG())),l.m_value=JSON.stringify(e),l.signType="path",l.m_orgSignWidth=r.orgSignWidth,l.m_orgSignHeight=r.orgSignHeight,l.m_orgSignLeft=r.orgSignLeft,l.m_orgSignTop=r.orgSignTop}else if("URL"===r.img_type){let e=n.querySelector("img");l.m_value=r.img_src;let t=new fabric.Image(e);l.signType="image",l.m_orgSignWidth=t.width,l.m_orgSignHeight=t.height}else if("BASE64"===r.img_type){let e=n.querySelector("img");l.m_value=r.img_src;let t=new fabric.Image(e);l.signType="image",l.m_orgSignWidth=t.width,l.m_orgSignHeight=t.height}else console.log('[등록된 서명] JSON 형식 중 img_type이 "'+r.img_type+'"은 처리 할수 없습니다.');L.pageRefresh();break}}e.classList.contains("Template-Hide")||e.classList.toggle("Template-Hide")}exportFieldData(){return JSON.stringify(L.templateData)}signTextCreateKeyUpEvent(e){13===e.keyCode&&L.signTextCreate()}signTextCreate(){const e=L.readerOwnerNode.querySelector(" #signTextInput").value;let n=L.readerOwnerNode.querySelector(" .Sign-Layerpop .Tab-Contents .Sign-Area .signTxtWrap ul.signTypeList");t.c.removeAllChildNode(n);var a=!1;const r=document.querySelector(" meta[name=_csrf]").content;for(var i=0;i<9;i++){var o=JSON.stringify({signatureText:e,fontIndex:i});!0===window.isParameterEncypt&&(a=!0,o=CipherUtil.encrypt(o,"AES")),fetch("/ui/bp/edoc/eform/createTextSignaturesByMail.do",{headers:{"content-type":"application/json","x-csrf-token":r,"x-requested-with":"XMLHttpRequest","content-chipher":a},method:"POST",body:o}).then((e=>e.json())).then((e=>{if("S"!==e.result_status)return;let a=document.createElement("li"),r=document.createElement("div");r.className="canvas_wrap";let i=document.createElement("canvas"),o=new fabric.Path(e.signature_data,{fill:"#000000"}),l=t.c.addObjectsToCanvas(L.readerOwnerNode,null,i,135,65,[o],o.width,o.height);i.addEventListener("click",(function(e){let a=n.querySelectorAll("li");for(var r=0;r<a.length;++r){let e=a.item(r);e.classList.contains("on")&&e.classList.toggle("on")}e.target.closest("li").classList.toggle("on"),L.textSignCanvas.clear(),t.c.cloneFabricCanvas(L.textSignCanvas,l.toObject().objects)})),r.setAttribute("fontName",e.font_name),r.setAttribute("pathWidth",o.width),r.setAttribute("pathHeight",o.height),r.setAttribute("pathLeft",o.left),r.setAttribute("pathTop",o.top),r.appendChild(i),a.appendChild(r),n.appendChild(a)}))}}stampFileSelect(e){L.readerOwnerNode.querySelector(" #stampFileInput").click()}stampImageSelected(e){const t=e.target.files[0];if(null!=t)if(t.type.startsWith("image/")){var n=new FileReader;n.readAsDataURL(t),n.onload=function(){L.readerOwnerNode.querySelector(" #stampImageTag").src=n.result},n.onerror=function(e){console.log("Error: ",e)}}else null!==L.customAlertFunc&&L.customAlertFunc("이미지만 첨부 가능합니다.")}isRequiredFieldValueEmpty(){const e=Object.keys(L.pagesInfo);for(var t=0;t<e.length;++t){const n=L.pagesInfo[e[t]];let a=parseInt(e[t])+1,r=L.readerOwnerNode.querySelector(" [data-page-number='"+a+"']").getAttribute("data-loaded");if(Object.keys(n.fields).length>0&&(null===r||"false"===r))return L.pdfViewer.currentPageNumber=a,!1;if(n.isRequiredFieldValueEmpty())return!0}return!1}changeReaderMode(t){L.readerMode!==t&&(L.readerMode=t,L.readerOwnerNode.querySelectorAll("."+e.t.READER_PAGE_FIELD_LAYER_CLASS).forEach((t=>{L.readerMode===e.t.READER_FIELD_INPUT_MODE?t.classList.contains(e.t.NO_EVENT_LAYER)&&t.classList.toggle(e.t.NO_EVENT_LAYER):t.classList.contains(e.t.NO_EVENT_LAYER)||t.classList.remove(e.t.NO_EVENT_LAYER)})),L.readerOwnerNode.querySelectorAll("."+e.t.READER_PAGE_MEMO_LAYER_CLASS).forEach((t=>{L.readerMode===e.t.READER_FIELD_MEMO_MAKE_MODE||L.readerMode===e.t.READER_FIELD_MEMO_MODE?t.classList.contains(e.t.NO_EVENT_LAYER)&&t.classList.toggle(e.t.NO_EVENT_LAYER):t.classList.contains(e.t.NO_EVENT_LAYER)||t.classList.add(e.t.NO_EVENT_LAYER),t.removeEventListener("mouseup",L.templateMouseUpEvent),L.readerMode===e.t.READER_FIELD_MEMO_MAKE_MODE?(t.addEventListener("mouseup",L.templateMouseUpEvent),t.style.cursor="text"):t.style.cursor="pointer"})))}templateMouseUpEvent(e){const n=e.target.closest(".page").dataset.pageNumber,a=L.pdfViewer._pages[Number(n)-1];let r=new Object;r.m_id=t.c.generate_uuidv4();let i=a.getPagePoint(e.offsetX,e.offsetY);r.m_pdfX=i[0],r.m_pdfY=i[1];let o=a.getPagePoint(e.offsetX+100,e.offsetY+100);r.m_pdfX2=o[0],r.m_pdfY2=o[1],r.m_width=100,r.m_height=100,r.m_type="MemoField",r.m_fontSize=L.pagesInfo[n-1].memoPropeties.fontSize,r.m_fontName=L.pagesInfo[n-1].memoPropeties.fontFamily,r.m_fontColor=L.pagesInfo[n-1].memoPropeties.fontColor,r.m_backColor=L.pagesInfo[n-1].memoPropeties.backColor,r.m_kind="text",r.m_isRemoved=!1,r.m_fieldId=r.m_id,r.m_required=!1,r.m_textAlign="left",r.m_textVeticalAlign="middle",r.m_bold=L.pagesInfo[n-1].memoPropeties.isBold,r.m_value="",r.m_pageNo=n,L.pagesInfo[n-1].pushMemo(r.m_id,r),void 0!==L.templateData.formerList[0].pages[n-1].memos&&null!==L.templateData.formerList[0].pages[n-1].memos||(L.templateData.formerList[0].pages[n-1].memos=[]),L.templateData.formerList[0].pages[n-1].memos.push(r),L.pageRefresh(),L.readerOwnerNode.querySelector(" #Reader-Memo-Input-Mode-Button").dispatchEvent(new Event("click"))}deleteBtnClickEventListener(t){if(!t.target.classList.contains(e.t.FIELD_DELETE_BUTTON_CLASS))return;const n=t.target.dataset.memoId,a=t.target.dataset.memoPageNo;t.target.parentNode.remove(),L.pagesInfo[a-1].removeMemo(n),L.templateData.formerList[0].pages[a-1].memos=L.templateData.formerList[0].pages[a-1].memos.filter((e=>e.m_id!==n)),L.hideMemoProperties()}memoPropertyBtnClickEventListener(n){if(!n.target.classList.contains(e.t.MEMO_PROPERTY_BUTTON_CLASS))return;const a=n.target.dataset.memoId,r=n.target.dataset.memoPageNo;let i=null;for(let e=0;e<L.templateData.formerList[0].pages[r-1].memos.length;++e){let n=L.templateData.formerList[0].pages[r-1].memos[e];if(n.m_id===a){i=t.c.cloneObject(n);break}}L.showMemoProperties(n,i,null)}hideMemoProperties(){let t=L.readerOwnerNode.querySelector("#"+e.t.MAIN_GROUP_NAME+" .Editor-Attribute");null!=t&&t.remove()}applyMemoProperties(e,t,n,a,r,i,o,l){for(let s=0;s<L.templateData.formerList[0].pages[t-1].memos.length;++s){let c=L.templateData.formerList[0].pages[t-1].memos[s];if(l)c.m_fontName=n,c.m_fontSize=a,c.m_fontColor=i,c.m_bold=r,c.m_backColor=o;else if(c.m_id===e){c.m_fontName=n,c.m_fontSize=a,c.m_fontColor=i,c.m_bold=r,c.m_backColor=o;break}}L.pageRefresh()}showMemoProperties(n,a,r){let i=L.readerOwnerNode.querySelector("#"+e.t.MAIN_GROUP_NAME+" .Editor-Attribute");null!=i&&i.remove();let o=document.createElement("div");var l=t.c.createAttributePanelNode(),s=t.c.createTextMemoAttrbuteNode(a.m_id,a.m_fontColor,a.m_bold,a.m_backColor,r);l.appendChild(s.row);var c=t.c.createAttributeToggleButtonNode(a.m_id,"entire","Template.entrieApply",!1,r);l.appendChild(c);let d=s.fontFamilyCombo.querySelector("select");$(d).select2({minimumResultsForSearch:1/0,width:"100%"}),$(d).val(a.m_fontName).trigger("change"),$(d).on("change",r);let u=s.fontSizeCombo.querySelector("select");$(u).select2({minimumResultsForSearch:1/0,width:"100%"}),$(u).val(a.m_fontSize).trigger("change"),$(u).on("change",r);let p=s.colorBtn.querySelector("button");p.style.backgroundColor=a.m_fontColor;let m=new(P())(p,{color:a.m_fontColor});p.value=a.m_fontColor,m.on("change",(function(e,t,n,a){m.visible&&(p.style.backgroundColor=P().HEX([e,t,n,a]),p.value=P().HEX([e,t,n,a]),s.colorBtn.querySelector("input[type='text']").value=P().HEX([e,t,n,a]))})),m.on("exit",(function(e,t,n,a){p.style.backgroundColor=P().HEX([e,t,n,a]);let r=s.colorBtn.querySelector("input[type='text']");r.value=P().HEX([e,t,n,a]),r.dispatchEvent(new Event("change"))}));let f=s.backgroundColorBtn.querySelector("button");f.style.backgroundColor=a.m_backColor;let g=new(P())(f,{color:a.m_backColor});f.value=a.m_backColor,g.on("change",(function(e,t,n,a){g.visible&&(f.style.backgroundColor=P().HEX([e,t,n,a]),f.value=P().HEX([e,t,n,a]),s.backgroundColorBtn.querySelector("input[type='text']").value=P().HEX([e,t,n,a]))})),g.on("exit",(function(e,t,n,a){f.style.backgroundColor=P().HEX([e,t,n,a]);let r=s.backgroundColorBtn.querySelector("input[type='text']");r.value=P().HEX([e,t,n,a]),r.dispatchEvent(new Event("change"))}));var h=document.createElement("li");h.className=e.t.EDITOR_ATTR_CONTENTS_ROW_CLASS;var _=document.createElement("div");_.className=e.t.EDITOR_ATTR_ROW_WRAP_CLASS;let v=document.createElement("button");v.className="Attribute-Btn",v.style.marginRight="15px",v.style.marginLeft="5px",v.textContent="적용",v.addEventListener("click",(function(e){let t=e.target.closest("ul.Attribute-Contents").querySelector("label.Attribute-Switch-Label > input[type='checkbox']"),n=s.fontFamilyCombo.querySelector("select.Attribute-Select ").value,r=s.fontSizeCombo.querySelector("select.Attribute-Select ").value,i=s.boldBtn.querySelector("input[type='text']").value,o=s.colorBtn.querySelector("input[type='text']").value,l=s.backgroundColorBtn.querySelector("input[type='text']").value;L.applyMemoProperties(a.m_id,a.m_pageNo,n,r,i,o,l,t.checked)}));let E=document.createElement("button");E.className="Attribute-Btn",E.textContent="닫기",E.addEventListener("click",(function(e){L.hideMemoProperties()})),_.appendChild(v),_.appendChild(E),h.appendChild(_),l.appendChild(h),o.appendChild(l),o.setAttribute("Field-id",a.m_id),o.className="Editor-Attribute";let y=n.target.parentNode,b=L.readerOwnerNode.querySelector(" [data-page-number='"+a.m_pageNo+"']");o.style.top=y.offsetTop+40+"px",o.style.left=y.offsetLeft+y.offsetWidth+b.offsetLeft+20+"px",L.readerOwnerNode.querySelector(" #"+e.t.READER_PDF_VIEWER).appendChild(o)}addURLImageToSignArea(){var e=document.getElementById("imageURLInput").value;L.getBase64ImageFromUrl(e).then((e=>{L.addImageToList(e)})).catch((e=>{console.error("Error:",e)}))}addImageToList(e){var t=document.querySelector(".signTypeList"),n=t.querySelector("li.on");n&&n.classList.remove("on");var a=document.createElement("li");a.className="on";var r=document.createElement("div");r.className="canvas_wrap";var i=document.createElement("img");i.src=e,r.appendChild(i),a.appendChild(r),t.appendChild(a)}getBase64ImageFromUrl(e){return fetch(e).then((e=>{if(e.ok)return e.blob();throw new Error("Network response was not ok.")})).then((e=>new Promise(((t,n)=>{const a=new FileReader;a.onloadend=()=>t(a.result),a.onerror=n,a.readAsDataURL(e)})))).catch((e=>{console.error("Error:",e)}))}getBase64ImageFromUrlByProxyServer(e){return fetch("https://thingproxy.freeboard.io/fetch/"+e).then((e=>{if(e.ok)return e.blob();throw new Error("Network response was not ok.")})).then((e=>new Promise(((t,n)=>{const a=new FileReader;a.onloadend=()=>t(a.result),a.onerror=n,a.readAsDataURL(e)})))).catch((e=>{console.error("Error:",e)}))}convertImageToBase64(e){return new Promise((function(t,n){var a=new XMLHttpRequest;a.responseType="blob",a.onload=function(){var e=new FileReader;e.onloadend=function(){t(e.result)},e.readAsDataURL(a.response)},a.onerror=function(){n(new Error("이미지를 불러오는 동안 오류가 발생했습니다."))},a.open("GET",e),a.send()}))}async checkImageValidity(e){return new Promise((function(t,n){var a=new Image;a.onload=function(){t(!0)},a.onerror=function(){n(!1)},a.src=e}))}clearSignTypeList(){const e=document.getElementById("registeredArea").querySelector(".signTypeList");for(;e.firstChild;)e.removeChild(e.firstChild)}convertUrlsToJson(e){return e.map((e=>({img_type:"URL",img_src:e})))}}function B(a,r=["ko","en"]){x=a,t.c.translator.fetch(r).then((()=>{t.c.changeLocale(r[0])}));let i=x.querySelector(" #"+e.t.READER_PDF_VIEWER_CONTAINER);I=new pdfjsViewer.EventBus,M=new n.PDFCursorTools({container:i,eventBus:I,cursorToolOnLoad:0}),R=new pdfjsViewer.PDFViewer({container:i,eventBus:I,textLayerMode:0}),(O=new k(R,x)).readerInit()}function F(e,t,n){O.imgJsonFileUrl=n,I.on("pagerendered",(function(e){console.log("pageRendered: "+e),O.pageRender(e)})),I.on("pagechanging",(function(e){console.log("pagechanging"),Q(e.pageNumber)})),I.on("scalechanging",(function(e){console.log("scalechanging"),function(e){let t=0;R._pages.forEach((function(e){t+=function(e){var t=e.div.currentStyle||window.getComputedStyle(e.div);const n=parseFloat(t.marginTop)+parseFloat(t.marginBottom),a=parseFloat(t.paddingTop)+parseFloat(t.paddingBottom),r=parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth);return e.height+n+a+r}(e)}))}()})),I.on("pagesinit",(function(){console.log("pagesinit"),R.currentScale=1,x.querySelector(" #Num-Pages").textContent=" / "+R.pagesCount,ee(R.currentPageNumber),O.loadJsonData(t)})),pdfjsLib.getDocument({url:e,cMapUrl:"/js/pdf_form/pdfjs/cmaps/",cMapPacked:!0,pdfBug:!1}).promise.then((function(e){e.getData().then((e=>{})),R.currentScale=1,R.setDocument(e),M.switchTool(1),console.log(R.pageViewsReady)})),x.querySelector(" #Zoom-Out-Button").addEventListener("click",V),x.querySelector(" #Zoom-In-Button").addEventListener("click",G),x.querySelector(" #Goto-First-Button").addEventListener("click",z),x.querySelector(" #Goto-Prev-Button").addEventListener("click",X),x.querySelector(" #Goto-Next-Button").addEventListener("click",J),x.querySelector(" #Goto-Last-Button").addEventListener("click",Z),x.querySelector(" #scaleSelectContainer").addEventListener("click",te),x.querySelector(" #Reader-Field-Input-Mode-Button").addEventListener("click",re),x.querySelector(" #Reader-Memo-Input-Mode-Button").addEventListener("click",ie),x.querySelector(" #Reader-Memo-Add-Mode-Button").addEventListener("click",oe)}function j(){return O.exportFieldData()}function W(){return O.isRequiredFieldValueEmpty()}function q(e){O.customAlertFunc=e}function H(e){t.c.changeLocale(e),O.pageRefresh()}function U(e,n){t.c.addTranslator(e,n)}function Y(e){t.c.translatorFileLocation(e)}function V(){const e=parseFloat(R.currentScale);R.currentScale=e-.1,K(R.currentScale)}function G(){const e=parseFloat(R.currentScale);R.currentScale=e+.1,K(R.currentScale)}function K(e){const t=Math.floor(100*parseFloat(e));x.querySelector(" #scaleSelectContainer > a").textContent=t+"%";let n=x.querySelector(" .Scale-Seletor-Container");n.classList.contains("Template-Hide")||n.classList.toggle("Template-Hide")}function z(){R.currentPageNumber=1,Q(R.currentPageNumber)}function X(){R.currentPageNumber-1<1||(R.currentPageNumber--,Q(R.currentPageNumber))}function J(){R.currentPageNumber+1>R.pagesCount||(R.currentPageNumber++,Q(R.currentPageNumber))}function Z(){R.currentPageNumber=R.pagesCount,Q(R.currentPageNumber)}function Q(e){x.querySelector(" #pageNumber").value=e,ee(R.currentPageNumber)}function ee(e){1===e?(x.querySelector(" #Goto-First-Button").disabled=!0,x.querySelector(" #Goto-Prev-Button").disabled=!0):(x.querySelector(" #Goto-First-Button").disabled=!1,x.querySelector(" #Goto-Prev-Button").disabled=!1),e===R.pagesCount?(x.querySelector(" #Goto-Last-Button").disabled=!0,x.querySelector(" #Goto-Next-Button").disabled=!0):(x.querySelector(" #Goto-Last-Button").disabled=!1,x.querySelector(" #Goto-Next-Button").disabled=!1)}function te(e){const t=e.target.getBoundingClientRect();let n=x.querySelector(" .Scale-Seletor-Container");n.style.left=t.left+"px",n.style.top=t.top+"px",n.classList.contains("Template-Hide")&&n.classList.toggle("Template-Hide");let a=n.querySelector("select");$(a).hasClass("select2-hidden-accessible")||$(a).select2({minimumResultsForSearch:1/0,width:"80px"}),$(a).val(R.currentScale).trigger("change"),$(a).select2("open"),$(a).on("select2:select",(function(e){var t=e.params.data;R.currentScale=t.id,K(t.id)}))}function ne(e){R.annotationEditorMode=e,M.switchTool(0)}function ae(e){switch(O.hideMemoProperties(),x.querySelector(" #Reader-Field-Input-Mode-Button").classList.contains("Selected")&&x.querySelector(" #Reader-Field-Input-Mode-Button").classList.remove("Selected"),x.querySelector(" #Reader-Memo-Input-Mode-Button").classList.contains("Selected")&&x.querySelector(" #Reader-Memo-Input-Mode-Button").classList.remove("Selected"),x.querySelector(" #Reader-Memo-Add-Mode-Button").classList.contains("Selected")&&x.querySelector(" #Reader-Memo-Add-Mode-Button").classList.remove("Selected"),e){case 0:M.switchTool(1),x.querySelector(" #Reader-Field-Input-Mode-Button").classList.add("Selected");break;case 1:M.switchTool(0),x.querySelector(" #Reader-Memo-Input-Mode-Button").classList.add("Selected");break;case 2:M.switchTool(0),x.querySelector(" #Reader-Memo-Add-Mode-Button").classList.add("Selected");break;default:M.switchTool(0)}O.changeReaderMode(e)}function re(){ae(0)}function ie(){ae(1)}function oe(){ae(2)}console.log("Reader VERSION:","0.0.4"),window.onload=function(){}})(),__webpack_exports__})()));